if(window.api&&window.api.electron)console.log("run in electron");else{console.log("run in a browser, inject req. methods...");const a=async(a,t,e)=>await fetch(e,{method:a,mode:"cors",credentials:"same-origin",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(t)}),t=async(t,e,n="/api")=>{try{const s=await a(t,e,n);return{status:s.status,data:await s.json()}}catch(a){return{status:500,error:a}}};window.api={get:async()=>await t("GET"),post:async a=>await t("POST",a),delete:async a=>await t("DELETE",a),put:async a=>await t("PUT",a),patch:async a=>await t("PATCH",a)}}