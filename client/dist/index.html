<!doctype html><html lang="en"><head><meta charset="UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Document</title><script src="data:application/javascript;base64,aWYgKCEod2luZG93LmFwaSAmJiB3aW5kb3cuYXBpLmVsZWN0cm9uKSkgewogICAgY29uc29sZS5sb2coJ3J1biBpbiBhIGJyb3dzZXIsIGluamVjdCByZXEuIG1ldGhvZHMuLi4nKTsKICAgIGNvbnN0IGRvRmV0Y2ggPSBhc3luYyAobWV0aG9kLCBkYXRhLCB1cmwpID0+IGF3YWl0IGZldGNoKHVybCwgewogICAgICAgIG1ldGhvZCwKICAgICAgICBtb2RlOiAnY29ycycsCiAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsCiAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoeydjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgfSkKICAgIGNvbnN0IGV4ZWN1dGUgPSBhc3luYyAodmVyYiwgZGF0YSwgdXJsID0gJy9hcGknKSA9PiB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkb0ZldGNoKHZlcmIsIGRhdGEsIHVybCk7CiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCBkYXRhOiBhd2FpdCByZXNwb25zZS5qc29uKCkgfTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IDUwMCwgZXJyb3IgfQogICAgICAgIH0KICAgIH0KICAgIHdpbmRvdy5hcGkgPSB7CiAgICAgICAgZ2V0OiBhc3luYyAoKSA9PiB7IHJldHVybiBhd2FpdCBleGVjdXRlKCdHRVQnKSB9LAogICAgICAgIHBvc3Q6IGFzeW5jIChkYXRhKSA9PiB7IHJldHVybiBhd2FpdCBleGVjdXRlKCdQT1NUJywgZGF0YSkgfSwKICAgICAgICBkZWxldGU6IGFzeW5jIChkYXRhKSA9PiB7IHJldHVybiBhd2FpdCBleGVjdXRlKCdERUxFVEUnLCBkYXRhKSB9LAogICAgICAgIHB1dDogYXN5bmMgKGRhdGEpID0+IHsgcmV0dXJuIGF3YWl0IGV4ZWN1dGUoJ1BVVCcsIGRhdGEpIH0sCiAgICAgICAgcGF0Y2g6IGFzeW5jIChkYXRhKSA9PiB7IHJldHVybiBhd2FpdCBleGVjdXRlKCdQQVRDSCcsIGRhdGEpIH0sCiAgICB9Cn0gZWxzZSB7CiAgICBjb25zb2xlLmxvZygncnVuIGluIGVsZWN0cm9uJyk7Cn0=" defer="defer"></script><script src="data:application/javascript;base64,LyohCiAgKiBCb290c3RyYXAgdjUuMC4wLWJldGEzIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAyMSBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpCiAgKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuYm9vdHN0cmFwPWUoKX0odGhpcywoZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y29uc3QgdD10PT57ZG97dCs9TWF0aC5mbG9vcigxZTYqTWF0aC5yYW5kb20oKSl9d2hpbGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpO3JldHVybiB0fSxlPXQ9PntsZXQgZT10LmdldEF0dHJpYnV0ZSgiZGF0YS1icy10YXJnZXQiKTtpZighZXx8IiMiPT09ZSl7bGV0IGk9dC5nZXRBdHRyaWJ1dGUoImhyZWYiKTtpZighaXx8IWkuaW5jbHVkZXMoIiMiKSYmIWkuc3RhcnRzV2l0aCgiLiIpKXJldHVybiBudWxsO2kuaW5jbHVkZXMoIiMiKSYmIWkuc3RhcnRzV2l0aCgiIyIpJiYoaT0iIyIraS5zcGxpdCgiIyIpWzFdKSxlPWkmJiIjIiE9PWk/aS50cmltKCk6bnVsbH1yZXR1cm4gZX0saT10PT57Y29uc3QgaT1lKHQpO3JldHVybiBpJiZkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGkpP2k6bnVsbH0scz10PT57Y29uc3QgaT1lKHQpO3JldHVybiBpP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaSk6bnVsbH0sbj10PT57aWYoIXQpcmV0dXJuIDA7bGV0e3RyYW5zaXRpb25EdXJhdGlvbjplLHRyYW5zaXRpb25EZWxheTppfT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtjb25zdCBzPU51bWJlci5wYXJzZUZsb2F0KGUpLG49TnVtYmVyLnBhcnNlRmxvYXQoaSk7cmV0dXJuIHN8fG4/KGU9ZS5zcGxpdCgiLCIpWzBdLGk9aS5zcGxpdCgiLCIpWzBdLDFlMyooTnVtYmVyLnBhcnNlRmxvYXQoZSkrTnVtYmVyLnBhcnNlRmxvYXQoaSkpKTowfSxvPXQ9Pnt0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJ0cmFuc2l0aW9uZW5kIikpfSxyPXQ9Pih0WzBdfHx0KS5ub2RlVHlwZSxhPSh0LGUpPT57bGV0IGk9ITE7Y29uc3Qgcz1lKzU7dC5hZGRFdmVudExpc3RlbmVyKCJ0cmFuc2l0aW9uZW5kIiwoZnVuY3Rpb24gZSgpe2k9ITAsdC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0cmFuc2l0aW9uZW5kIixlKX0pKSxzZXRUaW1lb3V0KCgpPT57aXx8byh0KX0scyl9LGw9KHQsZSxpKT0+e09iamVjdC5rZXlzKGkpLmZvckVhY2gocz0+e2NvbnN0IG49aVtzXSxvPWVbc10sYT1vJiZyKG8pPyJlbGVtZW50IjpudWxsPT0obD1vKT8iIitsOnt9LnRvU3RyaW5nLmNhbGwobCkubWF0Y2goL1xzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKTt2YXIgbDtpZighbmV3IFJlZ0V4cChuKS50ZXN0KGEpKXRocm93IG5ldyBUeXBlRXJyb3IodC50b1VwcGVyQ2FzZSgpKyI6ICIrYE9wdGlvbiAiJHtzfSIgcHJvdmlkZWQgdHlwZSAiJHthfSIgYCtgYnV0IGV4cGVjdGVkIHR5cGUgIiR7bn0iLmApfSl9LGM9dD0+e2lmKCF0KXJldHVybiExO2lmKHQuc3R5bGUmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnN0eWxlKXtjb25zdCBlPWdldENvbXB1dGVkU3R5bGUodCksaT1nZXRDb21wdXRlZFN0eWxlKHQucGFyZW50Tm9kZSk7cmV0dXJuIm5vbmUiIT09ZS5kaXNwbGF5JiYibm9uZSIhPT1pLmRpc3BsYXkmJiJoaWRkZW4iIT09ZS52aXNpYmlsaXR5fXJldHVybiExfSxkPXQ9PiF0fHx0Lm5vZGVUeXBlIT09Tm9kZS5FTEVNRU5UX05PREV8fCEhdC5jbGFzc0xpc3QuY29udGFpbnMoImRpc2FibGVkIil8fCh2b2lkIDAhPT10LmRpc2FibGVkP3QuZGlzYWJsZWQ6dC5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikmJiJmYWxzZSIhPT10LmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKSksaD10PT57aWYoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRhY2hTaGFkb3cpcmV0dXJuIG51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuZ2V0Um9vdE5vZGUpe2NvbnN0IGU9dC5nZXRSb290Tm9kZSgpO3JldHVybiBlIGluc3RhbmNlb2YgU2hhZG93Um9vdD9lOm51bGx9cmV0dXJuIHQgaW5zdGFuY2VvZiBTaGFkb3dSb290P3Q6dC5wYXJlbnROb2RlP2godC5wYXJlbnROb2RlKTpudWxsfSxmPSgpPT5mdW5jdGlvbigpe30sdT10PT50Lm9mZnNldEhlaWdodCxwPSgpPT57Y29uc3R7alF1ZXJ5OnR9PXdpbmRvdztyZXR1cm4gdCYmIWRvY3VtZW50LmJvZHkuaGFzQXR0cmlidXRlKCJkYXRhLWJzLW5vLWpxdWVyeSIpP3Q6bnVsbH0sZz0oKT0+InJ0bCI9PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGlyLG09KHQsZSk9Pnt2YXIgaTtpPSgpPT57Y29uc3QgaT1wKCk7aWYoaSl7Y29uc3Qgcz1pLmZuW3RdO2kuZm5bdF09ZS5qUXVlcnlJbnRlcmZhY2UsaS5mblt0XS5Db25zdHJ1Y3Rvcj1lLGkuZm5bdF0ubm9Db25mbGljdD0oKT0+KGkuZm5bdF09cyxlLmpRdWVyeUludGVyZmFjZSl9fSwibG9hZGluZyI9PT1kb2N1bWVudC5yZWFkeVN0YXRlP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGkpOmkoKX0sXz1uZXcgTWFwO3ZhciBiPXtzZXQodCxlLGkpe18uaGFzKHQpfHxfLnNldCh0LG5ldyBNYXApO2NvbnN0IHM9Xy5nZXQodCk7cy5oYXMoZSl8fDA9PT1zLnNpemU/cy5zZXQoZSxpKTpjb25zb2xlLmVycm9yKGBCb290c3RyYXAgZG9lc24ndCBhbGxvdyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIHBlciBlbGVtZW50LiBCb3VuZCBpbnN0YW5jZTogJHtBcnJheS5mcm9tKHMua2V5cygpKVswXX0uYCl9LGdldDoodCxlKT0+Xy5oYXModCkmJl8uZ2V0KHQpLmdldChlKXx8bnVsbCxyZW1vdmUodCxlKXtpZighXy5oYXModCkpcmV0dXJuO2NvbnN0IGk9Xy5nZXQodCk7aS5kZWxldGUoZSksMD09PWkuc2l6ZSYmXy5kZWxldGUodCl9fTtjb25zdCB2PS9bXi5dKig/PVwuLiopXC58LiovLHk9L1wuLiovLHc9Lzo6XGQrJC8sRT17fTtsZXQgVD0xO2NvbnN0IEE9e21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxMPW5ldyBTZXQoWyJjbGljayIsImRibGNsaWNrIiwibW91c2V1cCIsIm1vdXNlZG93biIsImNvbnRleHRtZW51IiwibW91c2V3aGVlbCIsIkRPTU1vdXNlU2Nyb2xsIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJzZWxlY3RzdGFydCIsInNlbGVjdGVuZCIsImtleWRvd24iLCJrZXlwcmVzcyIsImtleXVwIiwib3JpZW50YXRpb25jaGFuZ2UiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJ0b3VjaGNhbmNlbCIsInBvaW50ZXJkb3duIiwicG9pbnRlcm1vdmUiLCJwb2ludGVydXAiLCJwb2ludGVybGVhdmUiLCJwb2ludGVyY2FuY2VsIiwiZ2VzdHVyZXN0YXJ0IiwiZ2VzdHVyZWNoYW5nZSIsImdlc3R1cmVlbmQiLCJmb2N1cyIsImJsdXIiLCJjaGFuZ2UiLCJyZXNldCIsInNlbGVjdCIsInN1Ym1pdCIsImZvY3VzaW4iLCJmb2N1c291dCIsImxvYWQiLCJ1bmxvYWQiLCJiZWZvcmV1bmxvYWQiLCJyZXNpemUiLCJtb3ZlIiwiRE9NQ29udGVudExvYWRlZCIsInJlYWR5c3RhdGVjaGFuZ2UiLCJlcnJvciIsImFib3J0Iiwic2Nyb2xsIl0pO2Z1bmN0aW9uIE8odCxlKXtyZXR1cm4gZSYmYCR7ZX06OiR7VCsrfWB8fHQudWlkRXZlbnR8fFQrK31mdW5jdGlvbiBrKHQpe2NvbnN0IGU9Tyh0KTtyZXR1cm4gdC51aWRFdmVudD1lLEVbZV09RVtlXXx8e30sRVtlXX1mdW5jdGlvbiBEKHQsZSxpPW51bGwpe2NvbnN0IHM9T2JqZWN0LmtleXModCk7Zm9yKGxldCBuPTAsbz1zLmxlbmd0aDtuPG87bisrKXtjb25zdCBvPXRbc1tuXV07aWYoby5vcmlnaW5hbEhhbmRsZXI9PT1lJiZvLmRlbGVnYXRpb25TZWxlY3Rvcj09PWkpcmV0dXJuIG99cmV0dXJuIG51bGx9ZnVuY3Rpb24geCh0LGUsaSl7Y29uc3Qgcz0ic3RyaW5nIj09dHlwZW9mIGUsbj1zP2k6ZTtsZXQgbz10LnJlcGxhY2UoeSwiIik7Y29uc3Qgcj1BW29dO3JldHVybiByJiYobz1yKSxMLmhhcyhvKXx8KG89dCksW3MsbixvXX1mdW5jdGlvbiBDKHQsZSxpLHMsbil7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwhdClyZXR1cm47aXx8KGk9cyxzPW51bGwpO2NvbnN0W28scixhXT14KGUsaSxzKSxsPWsodCksYz1sW2FdfHwobFthXT17fSksZD1EKGMscixvP2k6bnVsbCk7aWYoZClyZXR1cm4gdm9pZChkLm9uZU9mZj1kLm9uZU9mZiYmbik7Y29uc3QgaD1PKHIsZS5yZXBsYWNlKHYsIiIpKSxmPW8/ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbiBzKG4pe2NvbnN0IG89dC5xdWVyeVNlbGVjdG9yQWxsKGUpO2ZvcihsZXR7dGFyZ2V0OmV9PW47ZSYmZSE9PXRoaXM7ZT1lLnBhcmVudE5vZGUpZm9yKGxldCByPW8ubGVuZ3RoO3ItLTspaWYob1tyXT09PWUpcmV0dXJuIG4uZGVsZWdhdGVUYXJnZXQ9ZSxzLm9uZU9mZiYmTi5vZmYodCxuLnR5cGUsaSksaS5hcHBseShlLFtuXSk7cmV0dXJuIG51bGx9fSh0LGkscyk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24gaShzKXtyZXR1cm4gcy5kZWxlZ2F0ZVRhcmdldD10LGkub25lT2ZmJiZOLm9mZih0LHMudHlwZSxlKSxlLmFwcGx5KHQsW3NdKX19KHQsaSk7Zi5kZWxlZ2F0aW9uU2VsZWN0b3I9bz9pOm51bGwsZi5vcmlnaW5hbEhhbmRsZXI9cixmLm9uZU9mZj1uLGYudWlkRXZlbnQ9aCxjW2hdPWYsdC5hZGRFdmVudExpc3RlbmVyKGEsZixvKX1mdW5jdGlvbiBTKHQsZSxpLHMsbil7Y29uc3Qgbz1EKGVbaV0scyxuKTtvJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKGksbyxCb29sZWFuKG4pKSxkZWxldGUgZVtpXVtvLnVpZEV2ZW50XSl9Y29uc3QgTj17b24odCxlLGkscyl7Qyh0LGUsaSxzLCExKX0sb25lKHQsZSxpLHMpe0ModCxlLGkscywhMCl9LG9mZih0LGUsaSxzKXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCF0KXJldHVybjtjb25zdFtuLG8scl09eChlLGkscyksYT1yIT09ZSxsPWsodCksYz1lLnN0YXJ0c1dpdGgoIi4iKTtpZih2b2lkIDAhPT1vKXtpZighbHx8IWxbcl0pcmV0dXJuO3JldHVybiB2b2lkIFModCxsLHIsbyxuP2k6bnVsbCl9YyYmT2JqZWN0LmtleXMobCkuZm9yRWFjaChpPT57IWZ1bmN0aW9uKHQsZSxpLHMpe2NvbnN0IG49ZVtpXXx8e307T2JqZWN0LmtleXMobikuZm9yRWFjaChvPT57aWYoby5pbmNsdWRlcyhzKSl7Y29uc3Qgcz1uW29dO1ModCxlLGkscy5vcmlnaW5hbEhhbmRsZXIscy5kZWxlZ2F0aW9uU2VsZWN0b3IpfX0pfSh0LGwsaSxlLnNsaWNlKDEpKX0pO2NvbnN0IGQ9bFtyXXx8e307T2JqZWN0LmtleXMoZCkuZm9yRWFjaChpPT57Y29uc3Qgcz1pLnJlcGxhY2UodywiIik7aWYoIWF8fGUuaW5jbHVkZXMocykpe2NvbnN0IGU9ZFtpXTtTKHQsbCxyLGUub3JpZ2luYWxIYW5kbGVyLGUuZGVsZWdhdGlvblNlbGVjdG9yKX19KX0sdHJpZ2dlcih0LGUsaSl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwhdClyZXR1cm4gbnVsbDtjb25zdCBzPXAoKSxuPWUucmVwbGFjZSh5LCIiKSxvPWUhPT1uLHI9TC5oYXMobik7bGV0IGEsbD0hMCxjPSEwLGQ9ITEsaD1udWxsO3JldHVybiBvJiZzJiYoYT1zLkV2ZW50KGUsaSkscyh0KS50cmlnZ2VyKGEpLGw9IWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSxjPSFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCksZD1hLmlzRGVmYXVsdFByZXZlbnRlZCgpKSxyPyhoPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIiksaC5pbml0RXZlbnQobixsLCEwKSk6aD1uZXcgQ3VzdG9tRXZlbnQoZSx7YnViYmxlczpsLGNhbmNlbGFibGU6ITB9KSx2b2lkIDAhPT1pJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKHQ9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoaCx0LHtnZXQ6KCk9PmlbdF19KX0pLGQmJmgucHJldmVudERlZmF1bHQoKSxjJiZ0LmRpc3BhdGNoRXZlbnQoaCksaC5kZWZhdWx0UHJldmVudGVkJiZ2b2lkIDAhPT1hJiZhLnByZXZlbnREZWZhdWx0KCksaH19O2NsYXNzIGp7Y29uc3RydWN0b3IodCl7KHQ9InN0cmluZyI9PXR5cGVvZiB0P2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk6dCkmJih0aGlzLl9lbGVtZW50PXQsYi5zZXQodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLHRoaXMpKX1kaXNwb3NlKCl7Yi5yZW1vdmUodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKSx0aGlzLl9lbGVtZW50PW51bGx9c3RhdGljIGdldEluc3RhbmNlKHQpe3JldHVybiBiLmdldCh0LHRoaXMuREFUQV9LRVkpfXN0YXRpYyBnZXQgVkVSU0lPTigpe3JldHVybiI1LjAuMC1iZXRhMyJ9fWNsYXNzIFAgZXh0ZW5kcyBqe3N0YXRpYyBnZXQgREFUQV9LRVkoKXtyZXR1cm4iYnMuYWxlcnQifWNsb3NlKHQpe2NvbnN0IGU9dD90aGlzLl9nZXRSb290RWxlbWVudCh0KTp0aGlzLl9lbGVtZW50LGk9dGhpcy5fdHJpZ2dlckNsb3NlRXZlbnQoZSk7bnVsbD09PWl8fGkuZGVmYXVsdFByZXZlbnRlZHx8dGhpcy5fcmVtb3ZlRWxlbWVudChlKX1fZ2V0Um9vdEVsZW1lbnQodCl7cmV0dXJuIHModCl8fHQuY2xvc2VzdCgiLmFsZXJ0Iil9X3RyaWdnZXJDbG9zZUV2ZW50KHQpe3JldHVybiBOLnRyaWdnZXIodCwiY2xvc2UuYnMuYWxlcnQiKX1fcmVtb3ZlRWxlbWVudCh0KXtpZih0LmNsYXNzTGlzdC5yZW1vdmUoInNob3ciKSwhdC5jbGFzc0xpc3QuY29udGFpbnMoImZhZGUiKSlyZXR1cm4gdm9pZCB0aGlzLl9kZXN0cm95RWxlbWVudCh0KTtjb25zdCBlPW4odCk7Ti5vbmUodCwidHJhbnNpdGlvbmVuZCIsKCk9PnRoaXMuX2Rlc3Ryb3lFbGVtZW50KHQpKSxhKHQsZSl9X2Rlc3Ryb3lFbGVtZW50KHQpe3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLE4udHJpZ2dlcih0LCJjbG9zZWQuYnMuYWxlcnQiKX1zdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKHQpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7bGV0IGU9Yi5nZXQodGhpcywiYnMuYWxlcnQiKTtlfHwoZT1uZXcgUCh0aGlzKSksImNsb3NlIj09PXQmJmVbdF0odGhpcyl9KSl9c3RhdGljIGhhbmRsZURpc21pc3ModCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2UmJmUucHJldmVudERlZmF1bHQoKSx0LmNsb3NlKHRoaXMpfX19Ti5vbihkb2N1bWVudCwiY2xpY2suYnMuYWxlcnQuZGF0YS1hcGkiLCdbZGF0YS1icy1kaXNtaXNzPSJhbGVydCJdJyxQLmhhbmRsZURpc21pc3MobmV3IFApKSxtKCJhbGVydCIsUCk7Y2xhc3MgSSBleHRlbmRzIGp7c3RhdGljIGdldCBEQVRBX0tFWSgpe3JldHVybiJicy5idXR0b24ifXRvZ2dsZSgpe3RoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgiYWN0aXZlIikpfXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UodCl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtsZXQgZT1iLmdldCh0aGlzLCJicy5idXR0b24iKTtlfHwoZT1uZXcgSSh0aGlzKSksInRvZ2dsZSI9PT10JiZlW3RdKCl9KSl9fWZ1bmN0aW9uIE0odCl7cmV0dXJuInRydWUiPT09dHx8ImZhbHNlIiE9PXQmJih0PT09TnVtYmVyKHQpLnRvU3RyaW5nKCk/TnVtYmVyKHQpOiIiPT09dHx8Im51bGwiPT09dD9udWxsOnQpfWZ1bmN0aW9uIFIodCl7cmV0dXJuIHQucmVwbGFjZSgvW0EtWl0vZyx0PT4iLSIrdC50b0xvd2VyQ2FzZSgpKX1OLm9uKGRvY3VtZW50LCJjbGljay5icy5idXR0b24uZGF0YS1hcGkiLCdbZGF0YS1icy10b2dnbGU9ImJ1dHRvbiJdJyx0PT57dC5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IGU9dC50YXJnZXQuY2xvc2VzdCgnW2RhdGEtYnMtdG9nZ2xlPSJidXR0b24iXScpO2xldCBpPWIuZ2V0KGUsImJzLmJ1dHRvbiIpO2l8fChpPW5ldyBJKGUpKSxpLnRvZ2dsZSgpfSksbSgiYnV0dG9uIixJKTtjb25zdCBCPXtzZXREYXRhQXR0cmlidXRlKHQsZSxpKXt0LnNldEF0dHJpYnV0ZSgiZGF0YS1icy0iK1IoZSksaSl9LHJlbW92ZURhdGFBdHRyaWJ1dGUodCxlKXt0LnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1icy0iK1IoZSkpfSxnZXREYXRhQXR0cmlidXRlcyh0KXtpZighdClyZXR1cm57fTtjb25zdCBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0LmRhdGFzZXQpLmZpbHRlcih0PT50LnN0YXJ0c1dpdGgoImJzIikpLmZvckVhY2goaT0+e2xldCBzPWkucmVwbGFjZSgvXmJzLywiIik7cz1zLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK3Muc2xpY2UoMSxzLmxlbmd0aCksZVtzXT1NKHQuZGF0YXNldFtpXSl9KSxlfSxnZXREYXRhQXR0cmlidXRlOih0LGUpPT5NKHQuZ2V0QXR0cmlidXRlKCJkYXRhLWJzLSIrUihlKSkpLG9mZnNldCh0KXtjb25zdCBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3RvcDplLnRvcCtkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxsZWZ0OmUubGVmdCtkb2N1bWVudC5ib2R5LnNjcm9sbExlZnR9fSxwb3NpdGlvbjp0PT4oe3RvcDp0Lm9mZnNldFRvcCxsZWZ0OnQub2Zmc2V0TGVmdH0pfSxIPXtmaW5kOih0LGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KT0+W10uY29uY2F0KC4uLkVsZW1lbnQucHJvdG90eXBlLnF1ZXJ5U2VsZWN0b3JBbGwuY2FsbChlLHQpKSxmaW5kT25lOih0LGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KT0+RWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3Rvci5jYWxsKGUsdCksY2hpbGRyZW46KHQsZSk9PltdLmNvbmNhdCguLi50LmNoaWxkcmVuKS5maWx0ZXIodD0+dC5tYXRjaGVzKGUpKSxwYXJlbnRzKHQsZSl7Y29uc3QgaT1bXTtsZXQgcz10LnBhcmVudE5vZGU7Zm9yKDtzJiZzLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJjMhPT1zLm5vZGVUeXBlOylzLm1hdGNoZXMoZSkmJmkucHVzaChzKSxzPXMucGFyZW50Tm9kZTtyZXR1cm4gaX0scHJldih0LGUpe2xldCBpPXQucHJldmlvdXNFbGVtZW50U2libGluZztmb3IoO2k7KXtpZihpLm1hdGNoZXMoZSkpcmV0dXJuW2ldO2k9aS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nfXJldHVybltdfSxuZXh0KHQsZSl7bGV0IGk9dC5uZXh0RWxlbWVudFNpYmxpbmc7Zm9yKDtpOyl7aWYoaS5tYXRjaGVzKGUpKXJldHVybltpXTtpPWkubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybltdfX0sVz17aW50ZXJ2YWw6NWUzLGtleWJvYXJkOiEwLHNsaWRlOiExLHBhdXNlOiJob3ZlciIsd3JhcDohMCx0b3VjaDohMH0sVT17aW50ZXJ2YWw6IihudW1iZXJ8Ym9vbGVhbikiLGtleWJvYXJkOiJib29sZWFuIixzbGlkZToiKGJvb2xlYW58c3RyaW5nKSIscGF1c2U6IihzdHJpbmd8Ym9vbGVhbikiLHdyYXA6ImJvb2xlYW4iLHRvdWNoOiJib29sZWFuIn0sJD0ibmV4dCIsRj0icHJldiIsej0ibGVmdCIsSz0icmlnaHQiO2NsYXNzIFkgZXh0ZW5kcyBqe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5faXRlbXM9bnVsbCx0aGlzLl9pbnRlcnZhbD1udWxsLHRoaXMuX2FjdGl2ZUVsZW1lbnQ9bnVsbCx0aGlzLl9pc1BhdXNlZD0hMSx0aGlzLl9pc1NsaWRpbmc9ITEsdGhpcy50b3VjaFRpbWVvdXQ9bnVsbCx0aGlzLnRvdWNoU3RhcnRYPTAsdGhpcy50b3VjaERlbHRhWD0wLHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoZSksdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQ9SC5maW5kT25lKCIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIsdGhpcy5fZWxlbWVudCksdGhpcy5fdG91Y2hTdXBwb3J0ZWQ9Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wLHRoaXMuX3BvaW50ZXJFdmVudD1Cb29sZWFuKHdpbmRvdy5Qb2ludGVyRXZlbnQpLHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCl9c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIFd9c3RhdGljIGdldCBEQVRBX0tFWSgpe3JldHVybiJicy5jYXJvdXNlbCJ9bmV4dCgpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoJCl9bmV4dFdoZW5WaXNpYmxlKCl7IWRvY3VtZW50LmhpZGRlbiYmYyh0aGlzLl9lbGVtZW50KSYmdGhpcy5uZXh0KCl9cHJldigpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoRil9cGF1c2UodCl7dHx8KHRoaXMuX2lzUGF1c2VkPSEwKSxILmZpbmRPbmUoIi5jYXJvdXNlbC1pdGVtLW5leHQsIC5jYXJvdXNlbC1pdGVtLXByZXYiLHRoaXMuX2VsZW1lbnQpJiYobyh0aGlzLl9lbGVtZW50KSx0aGlzLmN5Y2xlKCEwKSksY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCksdGhpcy5faW50ZXJ2YWw9bnVsbH1jeWNsZSh0KXt0fHwodGhpcy5faXNQYXVzZWQ9ITEpLHRoaXMuX2ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCksdGhpcy5faW50ZXJ2YWw9bnVsbCksdGhpcy5fY29uZmlnJiZ0aGlzLl9jb25maWcuaW50ZXJ2YWwmJiF0aGlzLl9pc1BhdXNlZCYmKHRoaXMuX3VwZGF0ZUludGVydmFsKCksdGhpcy5faW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT90aGlzLm5leHRXaGVuVmlzaWJsZTp0aGlzLm5leHQpLmJpbmQodGhpcyksdGhpcy5fY29uZmlnLmludGVydmFsKSl9dG8odCl7dGhpcy5fYWN0aXZlRWxlbWVudD1ILmZpbmRPbmUoIi5hY3RpdmUuY2Fyb3VzZWwtaXRlbSIsdGhpcy5fZWxlbWVudCk7Y29uc3QgZT10aGlzLl9nZXRJdGVtSW5kZXgodGhpcy5fYWN0aXZlRWxlbWVudCk7aWYodD50aGlzLl9pdGVtcy5sZW5ndGgtMXx8dDwwKXJldHVybjtpZih0aGlzLl9pc1NsaWRpbmcpcmV0dXJuIHZvaWQgTi5vbmUodGhpcy5fZWxlbWVudCwic2xpZC5icy5jYXJvdXNlbCIsKCk9PnRoaXMudG8odCkpO2lmKGU9PT10KXJldHVybiB0aGlzLnBhdXNlKCksdm9pZCB0aGlzLmN5Y2xlKCk7Y29uc3QgaT10PmU/JDpGO3RoaXMuX3NsaWRlKGksdGhpcy5faXRlbXNbdF0pfWRpc3Bvc2UoKXtOLm9mZih0aGlzLl9lbGVtZW50LCIuYnMuY2Fyb3VzZWwiKSx0aGlzLl9pdGVtcz1udWxsLHRoaXMuX2NvbmZpZz1udWxsLHRoaXMuX2ludGVydmFsPW51bGwsdGhpcy5faXNQYXVzZWQ9bnVsbCx0aGlzLl9pc1NsaWRpbmc9bnVsbCx0aGlzLl9hY3RpdmVFbGVtZW50PW51bGwsdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQ9bnVsbCxzdXBlci5kaXNwb3NlKCl9X2dldENvbmZpZyh0KXtyZXR1cm4gdD17Li4uVywuLi50fSxsKCJjYXJvdXNlbCIsdCxVKSx0fV9oYW5kbGVTd2lwZSgpe2NvbnN0IHQ9TWF0aC5hYnModGhpcy50b3VjaERlbHRhWCk7aWYodDw9NDApcmV0dXJuO2NvbnN0IGU9dC90aGlzLnRvdWNoRGVsdGFYO3RoaXMudG91Y2hEZWx0YVg9MCxlJiZ0aGlzLl9zbGlkZShlPjA/Szp6KX1fYWRkRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLl9jb25maWcua2V5Ym9hcmQmJk4ub24odGhpcy5fZWxlbWVudCwia2V5ZG93bi5icy5jYXJvdXNlbCIsdD0+dGhpcy5fa2V5ZG93bih0KSksImhvdmVyIj09PXRoaXMuX2NvbmZpZy5wYXVzZSYmKE4ub24odGhpcy5fZWxlbWVudCwibW91c2VlbnRlci5icy5jYXJvdXNlbCIsdD0+dGhpcy5wYXVzZSh0KSksTi5vbih0aGlzLl9lbGVtZW50LCJtb3VzZWxlYXZlLmJzLmNhcm91c2VsIix0PT50aGlzLmN5Y2xlKHQpKSksdGhpcy5fY29uZmlnLnRvdWNoJiZ0aGlzLl90b3VjaFN1cHBvcnRlZCYmdGhpcy5fYWRkVG91Y2hFdmVudExpc3RlbmVycygpfV9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzKCl7Y29uc3QgdD10PT57IXRoaXMuX3BvaW50ZXJFdmVudHx8InBlbiIhPT10LnBvaW50ZXJUeXBlJiYidG91Y2giIT09dC5wb2ludGVyVHlwZT90aGlzLl9wb2ludGVyRXZlbnR8fCh0aGlzLnRvdWNoU3RhcnRYPXQudG91Y2hlc1swXS5jbGllbnRYKTp0aGlzLnRvdWNoU3RhcnRYPXQuY2xpZW50WH0sZT10PT57dGhpcy50b3VjaERlbHRhWD10LnRvdWNoZXMmJnQudG91Y2hlcy5sZW5ndGg+MT8wOnQudG91Y2hlc1swXS5jbGllbnRYLXRoaXMudG91Y2hTdGFydFh9LGk9dD0+eyF0aGlzLl9wb2ludGVyRXZlbnR8fCJwZW4iIT09dC5wb2ludGVyVHlwZSYmInRvdWNoIiE9PXQucG9pbnRlclR5cGV8fCh0aGlzLnRvdWNoRGVsdGFYPXQuY2xpZW50WC10aGlzLnRvdWNoU3RhcnRYKSx0aGlzLl9oYW5kbGVTd2lwZSgpLCJob3ZlciI9PT10aGlzLl9jb25maWcucGF1c2UmJih0aGlzLnBhdXNlKCksdGhpcy50b3VjaFRpbWVvdXQmJmNsZWFyVGltZW91dCh0aGlzLnRvdWNoVGltZW91dCksdGhpcy50b3VjaFRpbWVvdXQ9c2V0VGltZW91dCh0PT50aGlzLmN5Y2xlKHQpLDUwMCt0aGlzLl9jb25maWcuaW50ZXJ2YWwpKX07SC5maW5kKCIuY2Fyb3VzZWwtaXRlbSBpbWciLHRoaXMuX2VsZW1lbnQpLmZvckVhY2godD0+e04ub24odCwiZHJhZ3N0YXJ0LmJzLmNhcm91c2VsIix0PT50LnByZXZlbnREZWZhdWx0KCkpfSksdGhpcy5fcG9pbnRlckV2ZW50PyhOLm9uKHRoaXMuX2VsZW1lbnQsInBvaW50ZXJkb3duLmJzLmNhcm91c2VsIixlPT50KGUpKSxOLm9uKHRoaXMuX2VsZW1lbnQsInBvaW50ZXJ1cC5icy5jYXJvdXNlbCIsdD0+aSh0KSksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJwb2ludGVyLWV2ZW50IikpOihOLm9uKHRoaXMuX2VsZW1lbnQsInRvdWNoc3RhcnQuYnMuY2Fyb3VzZWwiLGU9PnQoZSkpLE4ub24odGhpcy5fZWxlbWVudCwidG91Y2htb3ZlLmJzLmNhcm91c2VsIix0PT5lKHQpKSxOLm9uKHRoaXMuX2VsZW1lbnQsInRvdWNoZW5kLmJzLmNhcm91c2VsIix0PT5pKHQpKSl9X2tleWRvd24odCl7L2lucHV0fHRleHRhcmVhL2kudGVzdCh0LnRhcmdldC50YWdOYW1lKXx8KCJBcnJvd0xlZnQiPT09dC5rZXk/KHQucHJldmVudERlZmF1bHQoKSx0aGlzLl9zbGlkZSh6KSk6IkFycm93UmlnaHQiPT09dC5rZXkmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fc2xpZGUoSykpKX1fZ2V0SXRlbUluZGV4KHQpe3JldHVybiB0aGlzLl9pdGVtcz10JiZ0LnBhcmVudE5vZGU/SC5maW5kKCIuY2Fyb3VzZWwtaXRlbSIsdC5wYXJlbnROb2RlKTpbXSx0aGlzLl9pdGVtcy5pbmRleE9mKHQpfV9nZXRJdGVtQnlPcmRlcih0LGUpe2NvbnN0IGk9dD09PSQscz10PT09RixuPXRoaXMuX2dldEl0ZW1JbmRleChlKSxvPXRoaXMuX2l0ZW1zLmxlbmd0aC0xO2lmKChzJiYwPT09bnx8aSYmbj09PW8pJiYhdGhpcy5fY29uZmlnLndyYXApcmV0dXJuIGU7Y29uc3Qgcj0obisocz8tMToxKSkldGhpcy5faXRlbXMubGVuZ3RoO3JldHVybi0xPT09cj90aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGgtMV06dGhpcy5faXRlbXNbcl19X3RyaWdnZXJTbGlkZUV2ZW50KHQsZSl7Y29uc3QgaT10aGlzLl9nZXRJdGVtSW5kZXgodCkscz10aGlzLl9nZXRJdGVtSW5kZXgoSC5maW5kT25lKCIuYWN0aXZlLmNhcm91c2VsLWl0ZW0iLHRoaXMuX2VsZW1lbnQpKTtyZXR1cm4gTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsInNsaWRlLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDp0LGRpcmVjdGlvbjplLGZyb206cyx0bzppfSl9X3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQodCl7aWYodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpe2NvbnN0IGU9SC5maW5kT25lKCIuYWN0aXZlIix0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCk7ZS5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKSxlLnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1jdXJyZW50Iik7Y29uc3QgaT1ILmZpbmQoIltkYXRhLWJzLXRhcmdldF0iLHRoaXMuX2luZGljYXRvcnNFbGVtZW50KTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpZihOdW1iZXIucGFyc2VJbnQoaVtlXS5nZXRBdHRyaWJ1dGUoImRhdGEtYnMtc2xpZGUtdG8iKSwxMCk9PT10aGlzLl9nZXRJdGVtSW5kZXgodCkpe2lbZV0uY2xhc3NMaXN0LmFkZCgiYWN0aXZlIiksaVtlXS5zZXRBdHRyaWJ1dGUoImFyaWEtY3VycmVudCIsInRydWUiKTticmVha319fV91cGRhdGVJbnRlcnZhbCgpe2NvbnN0IHQ9dGhpcy5fYWN0aXZlRWxlbWVudHx8SC5maW5kT25lKCIuYWN0aXZlLmNhcm91c2VsLWl0ZW0iLHRoaXMuX2VsZW1lbnQpO2lmKCF0KXJldHVybjtjb25zdCBlPU51bWJlci5wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgiZGF0YS1icy1pbnRlcnZhbCIpLDEwKTtlPyh0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsPXRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWx8fHRoaXMuX2NvbmZpZy5pbnRlcnZhbCx0aGlzLl9jb25maWcuaW50ZXJ2YWw9ZSk6dGhpcy5fY29uZmlnLmludGVydmFsPXRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWx8fHRoaXMuX2NvbmZpZy5pbnRlcnZhbH1fc2xpZGUodCxlKXtjb25zdCBpPXRoaXMuX2RpcmVjdGlvblRvT3JkZXIodCkscz1ILmZpbmRPbmUoIi5hY3RpdmUuY2Fyb3VzZWwtaXRlbSIsdGhpcy5fZWxlbWVudCksbz10aGlzLl9nZXRJdGVtSW5kZXgocykscj1lfHx0aGlzLl9nZXRJdGVtQnlPcmRlcihpLHMpLGw9dGhpcy5fZ2V0SXRlbUluZGV4KHIpLGM9Qm9vbGVhbih0aGlzLl9pbnRlcnZhbCksZD1pPT09JCxoPWQ/ImNhcm91c2VsLWl0ZW0tc3RhcnQiOiJjYXJvdXNlbC1pdGVtLWVuZCIsZj1kPyJjYXJvdXNlbC1pdGVtLW5leHQiOiJjYXJvdXNlbC1pdGVtLXByZXYiLHA9dGhpcy5fb3JkZXJUb0RpcmVjdGlvbihpKTtpZihyJiZyLmNsYXNzTGlzdC5jb250YWlucygiYWN0aXZlIikpdGhpcy5faXNTbGlkaW5nPSExO2Vsc2UgaWYoIXRoaXMuX3RyaWdnZXJTbGlkZUV2ZW50KHIscCkuZGVmYXVsdFByZXZlbnRlZCYmcyYmcil7aWYodGhpcy5faXNTbGlkaW5nPSEwLGMmJnRoaXMucGF1c2UoKSx0aGlzLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KHIpLHRoaXMuX2FjdGl2ZUVsZW1lbnQ9cix0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygic2xpZGUiKSl7ci5jbGFzc0xpc3QuYWRkKGYpLHUocikscy5jbGFzc0xpc3QuYWRkKGgpLHIuY2xhc3NMaXN0LmFkZChoKTtjb25zdCB0PW4ocyk7Ti5vbmUocywidHJhbnNpdGlvbmVuZCIsKCk9PntyLmNsYXNzTGlzdC5yZW1vdmUoaCxmKSxyLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpLHMuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIixmLGgpLHRoaXMuX2lzU2xpZGluZz0hMSxzZXRUaW1lb3V0KCgpPT57Ti50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsInNsaWQuYnMuY2Fyb3VzZWwiLHtyZWxhdGVkVGFyZ2V0OnIsZGlyZWN0aW9uOnAsZnJvbTpvLHRvOmx9KX0sMCl9KSxhKHMsdCl9ZWxzZSBzLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpLHIuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIiksdGhpcy5faXNTbGlkaW5nPSExLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJzbGlkLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDpyLGRpcmVjdGlvbjpwLGZyb206byx0bzpsfSk7YyYmdGhpcy5jeWNsZSgpfX1fZGlyZWN0aW9uVG9PcmRlcih0KXtyZXR1cm5bSyx6XS5pbmNsdWRlcyh0KT9nKCk/dD09PUs/RjokOnQ9PT1LPyQ6Rjp0fV9vcmRlclRvRGlyZWN0aW9uKHQpe3JldHVyblskLEZdLmluY2x1ZGVzKHQpP2coKT90PT09JD96Oks6dD09PSQ/Szp6OnR9c3RhdGljIGNhcm91c2VsSW50ZXJmYWNlKHQsZSl7bGV0IGk9Yi5nZXQodCwiYnMuY2Fyb3VzZWwiKSxzPXsuLi5XLC4uLkIuZ2V0RGF0YUF0dHJpYnV0ZXModCl9OyJvYmplY3QiPT10eXBlb2YgZSYmKHM9ey4uLnMsLi4uZX0pO2NvbnN0IG49InN0cmluZyI9PXR5cGVvZiBlP2U6cy5zbGlkZTtpZihpfHwoaT1uZXcgWSh0LHMpKSwibnVtYmVyIj09dHlwZW9mIGUpaS50byhlKTtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2Ygbil7aWYodm9pZCAwPT09aVtuXSl0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgIiR7bn0iYCk7aVtuXSgpfWVsc2Ugcy5pbnRlcnZhbCYmcy5yaWRlJiYoaS5wYXVzZSgpLGkuY3ljbGUoKSl9c3RhdGljIGpRdWVyeUludGVyZmFjZSh0KXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe1kuY2Fyb3VzZWxJbnRlcmZhY2UodGhpcyx0KX0pKX1zdGF0aWMgZGF0YUFwaUNsaWNrSGFuZGxlcih0KXtjb25zdCBlPXModGhpcyk7aWYoIWV8fCFlLmNsYXNzTGlzdC5jb250YWlucygiY2Fyb3VzZWwiKSlyZXR1cm47Y29uc3QgaT17Li4uQi5nZXREYXRhQXR0cmlidXRlcyhlKSwuLi5CLmdldERhdGFBdHRyaWJ1dGVzKHRoaXMpfSxuPXRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWJzLXNsaWRlLXRvIik7biYmKGkuaW50ZXJ2YWw9ITEpLFkuY2Fyb3VzZWxJbnRlcmZhY2UoZSxpKSxuJiZiLmdldChlLCJicy5jYXJvdXNlbCIpLnRvKG4pLHQucHJldmVudERlZmF1bHQoKX19Ti5vbihkb2N1bWVudCwiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGkiLCJbZGF0YS1icy1zbGlkZV0sIFtkYXRhLWJzLXNsaWRlLXRvXSIsWS5kYXRhQXBpQ2xpY2tIYW5kbGVyKSxOLm9uKHdpbmRvdywibG9hZC5icy5jYXJvdXNlbC5kYXRhLWFwaSIsKCk9Pntjb25zdCB0PUguZmluZCgnW2RhdGEtYnMtcmlkZT0iY2Fyb3VzZWwiXScpO2ZvcihsZXQgZT0wLGk9dC5sZW5ndGg7ZTxpO2UrKylZLmNhcm91c2VsSW50ZXJmYWNlKHRbZV0sYi5nZXQodFtlXSwiYnMuY2Fyb3VzZWwiKSl9KSxtKCJjYXJvdXNlbCIsWSk7Y29uc3QgcT17dG9nZ2xlOiEwLHBhcmVudDoiIn0sVj17dG9nZ2xlOiJib29sZWFuIixwYXJlbnQ6IihzdHJpbmd8ZWxlbWVudCkifTtjbGFzcyBYIGV4dGVuZHMgantjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX3RyaWdnZXJBcnJheT1ILmZpbmQoYFtkYXRhLWJzLXRvZ2dsZT0iY29sbGFwc2UiXVtocmVmPSIjJHt0aGlzLl9lbGVtZW50LmlkfSJdLFtkYXRhLWJzLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLWJzLXRhcmdldD0iIyR7dGhpcy5fZWxlbWVudC5pZH0iXWApO2NvbnN0IHM9SC5maW5kKCdbZGF0YS1icy10b2dnbGU9ImNvbGxhcHNlIl0nKTtmb3IobGV0IHQ9MCxlPXMubGVuZ3RoO3Q8ZTt0Kyspe2NvbnN0IGU9c1t0XSxuPWkoZSksbz1ILmZpbmQobikuZmlsdGVyKHQ9PnQ9PT10aGlzLl9lbGVtZW50KTtudWxsIT09biYmby5sZW5ndGgmJih0aGlzLl9zZWxlY3Rvcj1uLHRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKGUpKX10aGlzLl9wYXJlbnQ9dGhpcy5fY29uZmlnLnBhcmVudD90aGlzLl9nZXRQYXJlbnQoKTpudWxsLHRoaXMuX2NvbmZpZy5wYXJlbnR8fHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl9lbGVtZW50LHRoaXMuX3RyaWdnZXJBcnJheSksdGhpcy5fY29uZmlnLnRvZ2dsZSYmdGhpcy50b2dnbGUoKX1zdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm4gcX1zdGF0aWMgZ2V0IERBVEFfS0VZKCl7cmV0dXJuImJzLmNvbGxhcHNlIn10b2dnbGUoKXt0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygic2hvdyIpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfXNob3coKXtpZih0aGlzLl9pc1RyYW5zaXRpb25pbmd8fHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJzaG93IikpcmV0dXJuO2xldCB0LGU7dGhpcy5fcGFyZW50JiYodD1ILmZpbmQoIi5zaG93LCAuY29sbGFwc2luZyIsdGhpcy5fcGFyZW50KS5maWx0ZXIodD0+InN0cmluZyI9PXR5cGVvZiB0aGlzLl9jb25maWcucGFyZW50P3QuZ2V0QXR0cmlidXRlKCJkYXRhLWJzLXBhcmVudCIpPT09dGhpcy5fY29uZmlnLnBhcmVudDp0LmNsYXNzTGlzdC5jb250YWlucygiY29sbGFwc2UiKSksMD09PXQubGVuZ3RoJiYodD1udWxsKSk7Y29uc3QgaT1ILmZpbmRPbmUodGhpcy5fc2VsZWN0b3IpO2lmKHQpe2NvbnN0IHM9dC5maW5kKHQ9PmkhPT10KTtpZihlPXM/Yi5nZXQocywiYnMuY29sbGFwc2UiKTpudWxsLGUmJmUuX2lzVHJhbnNpdGlvbmluZylyZXR1cm59aWYoTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsInNob3cuYnMuY29sbGFwc2UiKS5kZWZhdWx0UHJldmVudGVkKXJldHVybjt0JiZ0LmZvckVhY2godD0+e2khPT10JiZYLmNvbGxhcHNlSW50ZXJmYWNlKHQsImhpZGUiKSxlfHxiLnNldCh0LCJicy5jb2xsYXBzZSIsbnVsbCl9KTtjb25zdCBzPXRoaXMuX2dldERpbWVuc2lvbigpO3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiY29sbGFwc2UiKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoImNvbGxhcHNpbmciKSx0aGlzLl9lbGVtZW50LnN0eWxlW3NdPTAsdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCYmdGhpcy5fdHJpZ2dlckFycmF5LmZvckVhY2godD0+e3QuY2xhc3NMaXN0LnJlbW92ZSgiY29sbGFwc2VkIiksdC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKX0pLHRoaXMuc2V0VHJhbnNpdGlvbmluZyghMCk7Y29uc3Qgbz0ic2Nyb2xsIisoc1swXS50b1VwcGVyQ2FzZSgpK3Muc2xpY2UoMSkpLHI9bih0aGlzLl9lbGVtZW50KTtOLm9uZSh0aGlzLl9lbGVtZW50LCJ0cmFuc2l0aW9uZW5kIiwoKT0+e3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiY29sbGFwc2luZyIpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgiY29sbGFwc2UiLCJzaG93IiksdGhpcy5fZWxlbWVudC5zdHlsZVtzXT0iIix0aGlzLnNldFRyYW5zaXRpb25pbmcoITEpLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJzaG93bi5icy5jb2xsYXBzZSIpfSksYSh0aGlzLl9lbGVtZW50LHIpLHRoaXMuX2VsZW1lbnQuc3R5bGVbc109dGhpcy5fZWxlbWVudFtvXSsicHgifWhpZGUoKXtpZih0aGlzLl9pc1RyYW5zaXRpb25pbmd8fCF0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygic2hvdyIpKXJldHVybjtpZihOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZS5icy5jb2xsYXBzZSIpLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZ2V0RGltZW5zaW9uKCk7dGhpcy5fZWxlbWVudC5zdHlsZVt0XT10aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3RdKyJweCIsdSh0aGlzLl9lbGVtZW50KSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoImNvbGxhcHNpbmciKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImNvbGxhcHNlIiwic2hvdyIpO2NvbnN0IGU9dGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aDtpZihlPjApZm9yKGxldCB0PTA7dDxlO3QrKyl7Y29uc3QgZT10aGlzLl90cmlnZ2VyQXJyYXlbdF0saT1zKGUpO2kmJiFpLmNsYXNzTGlzdC5jb250YWlucygic2hvdyIpJiYoZS5jbGFzc0xpc3QuYWRkKCJjb2xsYXBzZWQiKSxlLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITEpKX10aGlzLnNldFRyYW5zaXRpb25pbmcoITApLHRoaXMuX2VsZW1lbnQuc3R5bGVbdF09IiI7Y29uc3QgaT1uKHRoaXMuX2VsZW1lbnQpO04ub25lKHRoaXMuX2VsZW1lbnQsInRyYW5zaXRpb25lbmQiLCgpPT57dGhpcy5zZXRUcmFuc2l0aW9uaW5nKCExKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImNvbGxhcHNpbmciKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoImNvbGxhcHNlIiksTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsImhpZGRlbi5icy5jb2xsYXBzZSIpfSksYSh0aGlzLl9lbGVtZW50LGkpfXNldFRyYW5zaXRpb25pbmcodCl7dGhpcy5faXNUcmFuc2l0aW9uaW5nPXR9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKSx0aGlzLl9jb25maWc9bnVsbCx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLl90cmlnZ2VyQXJyYXk9bnVsbCx0aGlzLl9pc1RyYW5zaXRpb25pbmc9bnVsbH1fZ2V0Q29uZmlnKHQpe3JldHVybih0PXsuLi5xLC4uLnR9KS50b2dnbGU9Qm9vbGVhbih0LnRvZ2dsZSksbCgiY29sbGFwc2UiLHQsViksdH1fZ2V0RGltZW5zaW9uKCl7cmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJ3aWR0aCIpPyJ3aWR0aCI6ImhlaWdodCJ9X2dldFBhcmVudCgpe2xldHtwYXJlbnQ6dH09dGhpcy5fY29uZmlnO3IodCk/dm9pZCAwPT09dC5qcXVlcnkmJnZvaWQgMD09PXRbMF18fCh0PXRbMF0pOnQ9SC5maW5kT25lKHQpO2NvbnN0IGU9YFtkYXRhLWJzLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLWJzLXBhcmVudD0iJHt0fSJdYDtyZXR1cm4gSC5maW5kKGUsdCkuZm9yRWFjaCh0PT57Y29uc3QgZT1zKHQpO3RoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhlLFt0XSl9KSx0fV9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModCxlKXtpZighdHx8IWUubGVuZ3RoKXJldHVybjtjb25zdCBpPXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJzaG93Iik7ZS5mb3JFYWNoKHQ9PntpP3QuY2xhc3NMaXN0LnJlbW92ZSgiY29sbGFwc2VkIik6dC5jbGFzc0xpc3QuYWRkKCJjb2xsYXBzZWQiKSx0LnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsaSl9KX1zdGF0aWMgY29sbGFwc2VJbnRlcmZhY2UodCxlKXtsZXQgaT1iLmdldCh0LCJicy5jb2xsYXBzZSIpO2NvbnN0IHM9ey4uLnEsLi4uQi5nZXREYXRhQXR0cmlidXRlcyh0KSwuLi4ib2JqZWN0Ij09dHlwZW9mIGUmJmU/ZTp7fX07aWYoIWkmJnMudG9nZ2xlJiYic3RyaW5nIj09dHlwZW9mIGUmJi9zaG93fGhpZGUvLnRlc3QoZSkmJihzLnRvZ2dsZT0hMSksaXx8KGk9bmV3IFgodCxzKSksInN0cmluZyI9PXR5cGVvZiBlKXtpZih2b2lkIDA9PT1pW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHtlfSJgKTtpW2VdKCl9fXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UodCl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtYLmNvbGxhcHNlSW50ZXJmYWNlKHRoaXMsdCl9KSl9fU4ub24oZG9jdW1lbnQsImNsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpIiwnW2RhdGEtYnMtdG9nZ2xlPSJjb2xsYXBzZSJdJywoZnVuY3Rpb24odCl7KCJBIj09PXQudGFyZ2V0LnRhZ05hbWV8fHQuZGVsZWdhdGVUYXJnZXQmJiJBIj09PXQuZGVsZWdhdGVUYXJnZXQudGFnTmFtZSkmJnQucHJldmVudERlZmF1bHQoKTtjb25zdCBlPUIuZ2V0RGF0YUF0dHJpYnV0ZXModGhpcykscz1pKHRoaXMpO0guZmluZChzKS5mb3JFYWNoKHQ9Pntjb25zdCBpPWIuZ2V0KHQsImJzLmNvbGxhcHNlIik7bGV0IHM7aT8obnVsbD09PWkuX3BhcmVudCYmInN0cmluZyI9PXR5cGVvZiBlLnBhcmVudCYmKGkuX2NvbmZpZy5wYXJlbnQ9ZS5wYXJlbnQsaS5fcGFyZW50PWkuX2dldFBhcmVudCgpKSxzPSJ0b2dnbGUiKTpzPWUsWC5jb2xsYXBzZUludGVyZmFjZSh0LHMpfSl9KSksbSgiY29sbGFwc2UiLFgpO3ZhciBRPSJ0b3AiLEc9ImJvdHRvbSIsWj0icmlnaHQiLEo9ImxlZnQiLHR0PVtRLEcsWixKXSxldD10dC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uY2F0KFtlKyItc3RhcnQiLGUrIi1lbmQiXSl9KSxbXSksaXQ9W10uY29uY2F0KHR0LFsiYXV0byJdKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uY2F0KFtlLGUrIi1zdGFydCIsZSsiLWVuZCJdKX0pLFtdKSxzdD1bImJlZm9yZVJlYWQiLCJyZWFkIiwiYWZ0ZXJSZWFkIiwiYmVmb3JlTWFpbiIsIm1haW4iLCJhZnRlck1haW4iLCJiZWZvcmVXcml0ZSIsIndyaXRlIiwiYWZ0ZXJXcml0ZSJdO2Z1bmN0aW9uIG50KHQpe3JldHVybiB0Pyh0Lm5vZGVOYW1lfHwiIikudG9Mb3dlckNhc2UoKTpudWxsfWZ1bmN0aW9uIG90KHQpe2lmKG51bGw9PXQpcmV0dXJuIHdpbmRvdztpZigiW29iamVjdCBXaW5kb3ddIiE9PXQudG9TdHJpbmcoKSl7dmFyIGU9dC5vd25lckRvY3VtZW50O3JldHVybiBlJiZlLmRlZmF1bHRWaWV3fHx3aW5kb3d9cmV0dXJuIHR9ZnVuY3Rpb24gcnQodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBvdCh0KS5FbGVtZW50fHx0IGluc3RhbmNlb2YgRWxlbWVudH1mdW5jdGlvbiBhdCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG90KHQpLkhUTUxFbGVtZW50fHx0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnR9ZnVuY3Rpb24gbHQodCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBTaGFkb3dSb290JiYodCBpbnN0YW5jZW9mIG90KHQpLlNoYWRvd1Jvb3R8fHQgaW5zdGFuY2VvZiBTaGFkb3dSb290KX12YXIgY3Q9e25hbWU6ImFwcGx5U3R5bGVzIixlbmFibGVkOiEwLHBoYXNlOiJ3cml0ZSIsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGF0ZTtPYmplY3Qua2V5cyhlLmVsZW1lbnRzKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgaT1lLnN0eWxlc1t0XXx8e30scz1lLmF0dHJpYnV0ZXNbdF18fHt9LG49ZS5lbGVtZW50c1t0XTthdChuKSYmbnQobikmJihPYmplY3QuYXNzaWduKG4uc3R5bGUsaSksT2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9c1t0XTshMT09PWU/bi5yZW1vdmVBdHRyaWJ1dGUodCk6bi5zZXRBdHRyaWJ1dGUodCwhMD09PWU/IiI6ZSl9KSkpfSkpfSxlZmZlY3Q6ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGF0ZSxpPXtwb3BwZXI6e3Bvc2l0aW9uOmUub3B0aW9ucy5zdHJhdGVneSxsZWZ0OiIwIix0b3A6IjAiLG1hcmdpbjoiMCJ9LGFycm93Ontwb3NpdGlvbjoiYWJzb2x1dGUifSxyZWZlcmVuY2U6e319O3JldHVybiBPYmplY3QuYXNzaWduKGUuZWxlbWVudHMucG9wcGVyLnN0eWxlLGkucG9wcGVyKSxlLnN0eWxlcz1pLGUuZWxlbWVudHMuYXJyb3cmJk9iamVjdC5hc3NpZ24oZS5lbGVtZW50cy5hcnJvdy5zdHlsZSxpLmFycm93KSxmdW5jdGlvbigpe09iamVjdC5rZXlzKGUuZWxlbWVudHMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBzPWUuZWxlbWVudHNbdF0sbj1lLmF0dHJpYnV0ZXNbdF18fHt9LG89T2JqZWN0LmtleXMoZS5zdHlsZXMuaGFzT3duUHJvcGVydHkodCk/ZS5zdHlsZXNbdF06aVt0XSkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPSIiLHR9KSx7fSk7YXQocykmJm50KHMpJiYoT2JqZWN0LmFzc2lnbihzLnN0eWxlLG8pLE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MucmVtb3ZlQXR0cmlidXRlKHQpfSkpKX0pKX19LHJlcXVpcmVzOlsiY29tcHV0ZVN0eWxlcyJdfTtmdW5jdGlvbiBkdCh0KXtyZXR1cm4gdC5zcGxpdCgiLSIpWzBdfWZ1bmN0aW9uIGh0KHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHRvcDplLnRvcCxyaWdodDplLnJpZ2h0LGJvdHRvbTplLmJvdHRvbSxsZWZ0OmUubGVmdCx4OmUubGVmdCx5OmUudG9wfX1mdW5jdGlvbiBmdCh0KXt2YXIgZT1odCh0KSxpPXQub2Zmc2V0V2lkdGgscz10Lm9mZnNldEhlaWdodDtyZXR1cm4gTWF0aC5hYnMoZS53aWR0aC1pKTw9MSYmKGk9ZS53aWR0aCksTWF0aC5hYnMoZS5oZWlnaHQtcyk8PTEmJihzPWUuaGVpZ2h0KSx7eDp0Lm9mZnNldExlZnQseTp0Lm9mZnNldFRvcCx3aWR0aDppLGhlaWdodDpzfX1mdW5jdGlvbiB1dCh0LGUpe3ZhciBpPWUuZ2V0Um9vdE5vZGUmJmUuZ2V0Um9vdE5vZGUoKTtpZih0LmNvbnRhaW5zKGUpKXJldHVybiEwO2lmKGkmJmx0KGkpKXt2YXIgcz1lO2Rve2lmKHMmJnQuaXNTYW1lTm9kZShzKSlyZXR1cm4hMDtzPXMucGFyZW50Tm9kZXx8cy5ob3N0fXdoaWxlKHMpfXJldHVybiExfWZ1bmN0aW9uIHB0KHQpe3JldHVybiBvdCh0KS5nZXRDb21wdXRlZFN0eWxlKHQpfWZ1bmN0aW9uIGd0KHQpe3JldHVyblsidGFibGUiLCJ0ZCIsInRoIl0uaW5kZXhPZihudCh0KSk+PTB9ZnVuY3Rpb24gbXQodCl7cmV0dXJuKChydCh0KT90Lm93bmVyRG9jdW1lbnQ6dC5kb2N1bWVudCl8fHdpbmRvdy5kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50fWZ1bmN0aW9uIF90KHQpe3JldHVybiJodG1sIj09PW50KHQpP3Q6dC5hc3NpZ25lZFNsb3R8fHQucGFyZW50Tm9kZXx8KGx0KHQpP3QuaG9zdDpudWxsKXx8bXQodCl9ZnVuY3Rpb24gYnQodCl7cmV0dXJuIGF0KHQpJiYiZml4ZWQiIT09cHQodCkucG9zaXRpb24/dC5vZmZzZXRQYXJlbnQ6bnVsbH1mdW5jdGlvbiB2dCh0KXtmb3IodmFyIGU9b3QodCksaT1idCh0KTtpJiZndChpKSYmInN0YXRpYyI9PT1wdChpKS5wb3NpdGlvbjspaT1idChpKTtyZXR1cm4gaSYmKCJodG1sIj09PW50KGkpfHwiYm9keSI9PT1udChpKSYmInN0YXRpYyI9PT1wdChpKS5wb3NpdGlvbik/ZTppfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveCIpLGk9X3QodCk7YXQoaSkmJlsiaHRtbCIsImJvZHkiXS5pbmRleE9mKG50KGkpKTwwOyl7dmFyIHM9cHQoaSk7aWYoIm5vbmUiIT09cy50cmFuc2Zvcm18fCJub25lIiE9PXMucGVyc3BlY3RpdmV8fCJwYWludCI9PT1zLmNvbnRhaW58fC0xIT09WyJ0cmFuc2Zvcm0iLCJwZXJzcGVjdGl2ZSJdLmluZGV4T2Yocy53aWxsQ2hhbmdlKXx8ZSYmImZpbHRlciI9PT1zLndpbGxDaGFuZ2V8fGUmJnMuZmlsdGVyJiYibm9uZSIhPT1zLmZpbHRlcilyZXR1cm4gaTtpPWkucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0odCl8fGV9ZnVuY3Rpb24geXQodCl7cmV0dXJuWyJ0b3AiLCJib3R0b20iXS5pbmRleE9mKHQpPj0wPyJ4IjoieSJ9dmFyIHd0PU1hdGgubWF4LEV0PU1hdGgubWluLFR0PU1hdGgucm91bmQ7ZnVuY3Rpb24gQXQodCxlLGkpe3JldHVybiB3dCh0LEV0KGUsaSkpfWZ1bmN0aW9uIEx0KHQpe3JldHVybiBPYmplY3QuYXNzaWduKHt9LHt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH0sdCl9ZnVuY3Rpb24gT3QodCxlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGVbaV09dCxlfSkse30pfXZhciBrdD17bmFtZToiYXJyb3ciLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLGZuOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5zdGF0ZSxzPXQubmFtZSxuPXQub3B0aW9ucyxvPWkuZWxlbWVudHMuYXJyb3cscj1pLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyxhPWR0KGkucGxhY2VtZW50KSxsPXl0KGEpLGM9W0osWl0uaW5kZXhPZihhKT49MD8iaGVpZ2h0Ijoid2lkdGgiO2lmKG8mJnIpe3ZhciBkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEx0KCJudW1iZXIiIT10eXBlb2YodD0iZnVuY3Rpb24iPT10eXBlb2YgdD90KE9iamVjdC5hc3NpZ24oe30sZS5yZWN0cyx7cGxhY2VtZW50OmUucGxhY2VtZW50fSkpOnQpP3Q6T3QodCx0dCkpfShuLnBhZGRpbmcsaSksaD1mdChvKSxmPSJ5Ij09PWw/UTpKLHU9InkiPT09bD9HOloscD1pLnJlY3RzLnJlZmVyZW5jZVtjXStpLnJlY3RzLnJlZmVyZW5jZVtsXS1yW2xdLWkucmVjdHMucG9wcGVyW2NdLGc9cltsXS1pLnJlY3RzLnJlZmVyZW5jZVtsXSxtPXZ0KG8pLF89bT8ieSI9PT1sP20uY2xpZW50SGVpZ2h0fHwwOm0uY2xpZW50V2lkdGh8fDA6MCxiPXAvMi1nLzIsdj1kW2ZdLHk9Xy1oW2NdLWRbdV0sdz1fLzItaFtjXS8yK2IsRT1BdCh2LHcseSksVD1sO2kubW9kaWZpZXJzRGF0YVtzXT0oKGU9e30pW1RdPUUsZS5jZW50ZXJPZmZzZXQ9RS13LGUpfX0sZWZmZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGUsaT10Lm9wdGlvbnMuZWxlbWVudCxzPXZvaWQgMD09PWk/IltkYXRhLXBvcHBlci1hcnJvd10iOmk7bnVsbCE9cyYmKCJzdHJpbmciIT10eXBlb2Ygc3x8KHM9ZS5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihzKSkpJiZ1dChlLmVsZW1lbnRzLnBvcHBlcixzKSYmKGUuZWxlbWVudHMuYXJyb3c9cyl9LHJlcXVpcmVzOlsicG9wcGVyT2Zmc2V0cyJdLHJlcXVpcmVzSWZFeGlzdHM6WyJwcmV2ZW50T3ZlcmZsb3ciXX0sRHQ9e3RvcDoiYXV0byIscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byIsbGVmdDoiYXV0byJ9O2Z1bmN0aW9uIHh0KHQpe3ZhciBlLGk9dC5wb3BwZXIscz10LnBvcHBlclJlY3Qsbj10LnBsYWNlbWVudCxvPXQub2Zmc2V0cyxyPXQucG9zaXRpb24sYT10LmdwdUFjY2VsZXJhdGlvbixsPXQuYWRhcHRpdmUsYz10LnJvdW5kT2Zmc2V0cyxkPSEwPT09Yz9mdW5jdGlvbih0KXt2YXIgZT10LngsaT10Lnkscz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MTtyZXR1cm57eDpUdChUdChlKnMpL3MpfHwwLHk6VHQoVHQoaSpzKS9zKXx8MH19KG8pOiJmdW5jdGlvbiI9PXR5cGVvZiBjP2Mobyk6byxoPWQueCxmPXZvaWQgMD09PWg/MDpoLHU9ZC55LHA9dm9pZCAwPT09dT8wOnUsZz1vLmhhc093blByb3BlcnR5KCJ4IiksbT1vLmhhc093blByb3BlcnR5KCJ5IiksXz1KLGI9USx2PXdpbmRvdztpZihsKXt2YXIgeT12dChpKSx3PSJjbGllbnRIZWlnaHQiLEU9ImNsaWVudFdpZHRoIjt5PT09b3QoaSkmJiJzdGF0aWMiIT09cHQoeT1tdChpKSkucG9zaXRpb24mJih3PSJzY3JvbGxIZWlnaHQiLEU9InNjcm9sbFdpZHRoIikseT15LG49PT1RJiYoYj1HLHAtPXlbd10tcy5oZWlnaHQscCo9YT8xOi0xKSxuPT09SiYmKF89WixmLT15W0VdLXMud2lkdGgsZio9YT8xOi0xKX12YXIgVCxBPU9iamVjdC5hc3NpZ24oe3Bvc2l0aW9uOnJ9LGwmJkR0KTtyZXR1cm4gYT9PYmplY3QuYXNzaWduKHt9LEEsKChUPXt9KVtiXT1tPyIwIjoiIixUW19dPWc/IjAiOiIiLFQudHJhbnNmb3JtPSh2LmRldmljZVBpeGVsUmF0aW98fDEpPDI/InRyYW5zbGF0ZSgiK2YrInB4LCAiK3ArInB4KSI6InRyYW5zbGF0ZTNkKCIrZisicHgsICIrcCsicHgsIDApIixUKSk6T2JqZWN0LmFzc2lnbih7fSxBLCgoZT17fSlbYl09bT9wKyJweCI6IiIsZVtfXT1nP2YrInB4IjoiIixlLnRyYW5zZm9ybT0iIixlKSl9dmFyIEN0PXtuYW1lOiJjb21wdXRlU3R5bGVzIixlbmFibGVkOiEwLHBoYXNlOiJiZWZvcmVXcml0ZSIsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGF0ZSxpPXQub3B0aW9ucyxzPWkuZ3B1QWNjZWxlcmF0aW9uLG49dm9pZCAwPT09c3x8cyxvPWkuYWRhcHRpdmUscj12b2lkIDA9PT1vfHxvLGE9aS5yb3VuZE9mZnNldHMsbD12b2lkIDA9PT1hfHxhLGM9e3BsYWNlbWVudDpkdChlLnBsYWNlbWVudCkscG9wcGVyOmUuZWxlbWVudHMucG9wcGVyLHBvcHBlclJlY3Q6ZS5yZWN0cy5wb3BwZXIsZ3B1QWNjZWxlcmF0aW9uOm59O251bGwhPWUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzJiYoZS5zdHlsZXMucG9wcGVyPU9iamVjdC5hc3NpZ24oe30sZS5zdHlsZXMucG9wcGVyLHh0KE9iamVjdC5hc3NpZ24oe30sYyx7b2Zmc2V0czplLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyxwb3NpdGlvbjplLm9wdGlvbnMuc3RyYXRlZ3ksYWRhcHRpdmU6cixyb3VuZE9mZnNldHM6bH0pKSkpLG51bGwhPWUubW9kaWZpZXJzRGF0YS5hcnJvdyYmKGUuc3R5bGVzLmFycm93PU9iamVjdC5hc3NpZ24oe30sZS5zdHlsZXMuYXJyb3cseHQoT2JqZWN0LmFzc2lnbih7fSxjLHtvZmZzZXRzOmUubW9kaWZpZXJzRGF0YS5hcnJvdyxwb3NpdGlvbjoiYWJzb2x1dGUiLGFkYXB0aXZlOiExLHJvdW5kT2Zmc2V0czpsfSkpKSksZS5hdHRyaWJ1dGVzLnBvcHBlcj1PYmplY3QuYXNzaWduKHt9LGUuYXR0cmlidXRlcy5wb3BwZXIseyJkYXRhLXBvcHBlci1wbGFjZW1lbnQiOmUucGxhY2VtZW50fSl9LGRhdGE6e319LFN0PXtwYXNzaXZlOiEwfSxOdD17bmFtZToiZXZlbnRMaXN0ZW5lcnMiLGVuYWJsZWQ6ITAscGhhc2U6IndyaXRlIixmbjpmdW5jdGlvbigpe30sZWZmZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGUsaT10Lmluc3RhbmNlLHM9dC5vcHRpb25zLG49cy5zY3JvbGwsbz12b2lkIDA9PT1ufHxuLHI9cy5yZXNpemUsYT12b2lkIDA9PT1yfHxyLGw9b3QoZS5lbGVtZW50cy5wb3BwZXIpLGM9W10uY29uY2F0KGUuc2Nyb2xsUGFyZW50cy5yZWZlcmVuY2UsZS5zY3JvbGxQYXJlbnRzLnBvcHBlcik7cmV0dXJuIG8mJmMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLGkudXBkYXRlLFN0KX0pKSxhJiZsLmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsaS51cGRhdGUsU3QpLGZ1bmN0aW9uKCl7byYmYy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsaS51cGRhdGUsU3QpfSkpLGEmJmwucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIixpLnVwZGF0ZSxTdCl9fSxkYXRhOnt9fSxqdD17bGVmdDoicmlnaHQiLHJpZ2h0OiJsZWZ0Iixib3R0b206InRvcCIsdG9wOiJib3R0b20ifTtmdW5jdGlvbiBQdCh0KXtyZXR1cm4gdC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywoZnVuY3Rpb24odCl7cmV0dXJuIGp0W3RdfSkpfXZhciBJdD17c3RhcnQ6ImVuZCIsZW5kOiJzdGFydCJ9O2Z1bmN0aW9uIE10KHQpe3JldHVybiB0LnJlcGxhY2UoL3N0YXJ0fGVuZC9nLChmdW5jdGlvbih0KXtyZXR1cm4gSXRbdF19KSl9ZnVuY3Rpb24gUnQodCl7dmFyIGU9b3QodCk7cmV0dXJue3Njcm9sbExlZnQ6ZS5wYWdlWE9mZnNldCxzY3JvbGxUb3A6ZS5wYWdlWU9mZnNldH19ZnVuY3Rpb24gQnQodCl7cmV0dXJuIGh0KG10KHQpKS5sZWZ0K1J0KHQpLnNjcm9sbExlZnR9ZnVuY3Rpb24gSHQodCl7dmFyIGU9cHQodCksaT1lLm92ZXJmbG93LHM9ZS5vdmVyZmxvd1gsbj1lLm92ZXJmbG93WTtyZXR1cm4vYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW4vLnRlc3QoaStuK3MpfWZ1bmN0aW9uIFd0KHQsZSl7dmFyIGk7dm9pZCAwPT09ZSYmKGU9W10pO3ZhciBzPWZ1bmN0aW9uIHQoZSl7cmV0dXJuWyJodG1sIiwiYm9keSIsIiNkb2N1bWVudCJdLmluZGV4T2YobnQoZSkpPj0wP2Uub3duZXJEb2N1bWVudC5ib2R5OmF0KGUpJiZIdChlKT9lOnQoX3QoZSkpfSh0KSxuPXM9PT0obnVsbD09KGk9dC5vd25lckRvY3VtZW50KT92b2lkIDA6aS5ib2R5KSxvPW90KHMpLHI9bj9bb10uY29uY2F0KG8udmlzdWFsVmlld3BvcnR8fFtdLEh0KHMpP3M6W10pOnMsYT1lLmNvbmNhdChyKTtyZXR1cm4gbj9hOmEuY29uY2F0KFd0KF90KHIpKSl9ZnVuY3Rpb24gVXQodCl7cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sdCx7bGVmdDp0LngsdG9wOnQueSxyaWdodDp0LngrdC53aWR0aCxib3R0b206dC55K3QuaGVpZ2h0fSl9ZnVuY3Rpb24gJHQodCxlKXtyZXR1cm4idmlld3BvcnQiPT09ZT9VdChmdW5jdGlvbih0KXt2YXIgZT1vdCh0KSxpPW10KHQpLHM9ZS52aXN1YWxWaWV3cG9ydCxuPWkuY2xpZW50V2lkdGgsbz1pLmNsaWVudEhlaWdodCxyPTAsYT0wO3JldHVybiBzJiYobj1zLndpZHRoLG89cy5oZWlnaHQsL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8KHI9cy5vZmZzZXRMZWZ0LGE9cy5vZmZzZXRUb3ApKSx7d2lkdGg6bixoZWlnaHQ6byx4OnIrQnQodCkseTphfX0odCkpOmF0KGUpP2Z1bmN0aW9uKHQpe3ZhciBlPWh0KHQpO3JldHVybiBlLnRvcD1lLnRvcCt0LmNsaWVudFRvcCxlLmxlZnQ9ZS5sZWZ0K3QuY2xpZW50TGVmdCxlLmJvdHRvbT1lLnRvcCt0LmNsaWVudEhlaWdodCxlLnJpZ2h0PWUubGVmdCt0LmNsaWVudFdpZHRoLGUud2lkdGg9dC5jbGllbnRXaWR0aCxlLmhlaWdodD10LmNsaWVudEhlaWdodCxlLng9ZS5sZWZ0LGUueT1lLnRvcCxlfShlKTpVdChmdW5jdGlvbih0KXt2YXIgZSxpPW10KHQpLHM9UnQodCksbj1udWxsPT0oZT10Lm93bmVyRG9jdW1lbnQpP3ZvaWQgMDplLmJvZHksbz13dChpLnNjcm9sbFdpZHRoLGkuY2xpZW50V2lkdGgsbj9uLnNjcm9sbFdpZHRoOjAsbj9uLmNsaWVudFdpZHRoOjApLHI9d3QoaS5zY3JvbGxIZWlnaHQsaS5jbGllbnRIZWlnaHQsbj9uLnNjcm9sbEhlaWdodDowLG4/bi5jbGllbnRIZWlnaHQ6MCksYT0tcy5zY3JvbGxMZWZ0K0J0KHQpLGw9LXMuc2Nyb2xsVG9wO3JldHVybiJydGwiPT09cHQobnx8aSkuZGlyZWN0aW9uJiYoYSs9d3QoaS5jbGllbnRXaWR0aCxuP24uY2xpZW50V2lkdGg6MCktbykse3dpZHRoOm8saGVpZ2h0OnIseDphLHk6bH19KG10KHQpKSl9ZnVuY3Rpb24gRnQodCl7cmV0dXJuIHQuc3BsaXQoIi0iKVsxXX1mdW5jdGlvbiB6dCh0KXt2YXIgZSxpPXQucmVmZXJlbmNlLHM9dC5lbGVtZW50LG49dC5wbGFjZW1lbnQsbz1uP2R0KG4pOm51bGwscj1uP0Z0KG4pOm51bGwsYT1pLngraS53aWR0aC8yLXMud2lkdGgvMixsPWkueStpLmhlaWdodC8yLXMuaGVpZ2h0LzI7c3dpdGNoKG8pe2Nhc2UgUTplPXt4OmEseTppLnktcy5oZWlnaHR9O2JyZWFrO2Nhc2UgRzplPXt4OmEseTppLnkraS5oZWlnaHR9O2JyZWFrO2Nhc2UgWjplPXt4OmkueCtpLndpZHRoLHk6bH07YnJlYWs7Y2FzZSBKOmU9e3g6aS54LXMud2lkdGgseTpsfTticmVhaztkZWZhdWx0OmU9e3g6aS54LHk6aS55fX12YXIgYz1vP3l0KG8pOm51bGw7aWYobnVsbCE9Yyl7dmFyIGQ9InkiPT09Yz8iaGVpZ2h0Ijoid2lkdGgiO3N3aXRjaChyKXtjYXNlInN0YXJ0IjplW2NdPWVbY10tKGlbZF0vMi1zW2RdLzIpO2JyZWFrO2Nhc2UiZW5kIjplW2NdPWVbY10rKGlbZF0vMi1zW2RdLzIpfX1yZXR1cm4gZX1mdW5jdGlvbiBLdCh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgaT1lLHM9aS5wbGFjZW1lbnQsbj12b2lkIDA9PT1zP3QucGxhY2VtZW50OnMsbz1pLmJvdW5kYXJ5LHI9dm9pZCAwPT09bz8iY2xpcHBpbmdQYXJlbnRzIjpvLGE9aS5yb290Qm91bmRhcnksbD12b2lkIDA9PT1hPyJ2aWV3cG9ydCI6YSxjPWkuZWxlbWVudENvbnRleHQsZD12b2lkIDA9PT1jPyJwb3BwZXIiOmMsaD1pLmFsdEJvdW5kYXJ5LGY9dm9pZCAwIT09aCYmaCx1PWkucGFkZGluZyxwPXZvaWQgMD09PXU/MDp1LGc9THQoIm51bWJlciIhPXR5cGVvZiBwP3A6T3QocCx0dCkpLG09InBvcHBlciI9PT1kPyJyZWZlcmVuY2UiOiJwb3BwZXIiLF89dC5lbGVtZW50cy5yZWZlcmVuY2UsYj10LnJlY3RzLnBvcHBlcix2PXQuZWxlbWVudHNbZj9tOmRdLHk9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPSJjbGlwcGluZ1BhcmVudHMiPT09ZT9mdW5jdGlvbih0KXt2YXIgZT1XdChfdCh0KSksaT1bImFic29sdXRlIiwiZml4ZWQiXS5pbmRleE9mKHB0KHQpLnBvc2l0aW9uKT49MCYmYXQodCk/dnQodCk6dDtyZXR1cm4gcnQoaSk/ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBydCh0KSYmdXQodCxpKSYmImJvZHkiIT09bnQodCl9KSk6W119KHQpOltdLmNvbmNhdChlKSxuPVtdLmNvbmNhdChzLFtpXSksbz1uWzBdLHI9bi5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7dmFyIHM9JHQodCxpKTtyZXR1cm4gZS50b3A9d3Qocy50b3AsZS50b3ApLGUucmlnaHQ9RXQocy5yaWdodCxlLnJpZ2h0KSxlLmJvdHRvbT1FdChzLmJvdHRvbSxlLmJvdHRvbSksZS5sZWZ0PXd0KHMubGVmdCxlLmxlZnQpLGV9KSwkdCh0LG8pKTtyZXR1cm4gci53aWR0aD1yLnJpZ2h0LXIubGVmdCxyLmhlaWdodD1yLmJvdHRvbS1yLnRvcCxyLng9ci5sZWZ0LHIueT1yLnRvcCxyfShydCh2KT92OnYuY29udGV4dEVsZW1lbnR8fG10KHQuZWxlbWVudHMucG9wcGVyKSxyLGwpLHc9aHQoXyksRT16dCh7cmVmZXJlbmNlOncsZWxlbWVudDpiLHN0cmF0ZWd5OiJhYnNvbHV0ZSIscGxhY2VtZW50Om59KSxUPVV0KE9iamVjdC5hc3NpZ24oe30sYixFKSksQT0icG9wcGVyIj09PWQ/VDp3LEw9e3RvcDp5LnRvcC1BLnRvcCtnLnRvcCxib3R0b206QS5ib3R0b20teS5ib3R0b20rZy5ib3R0b20sbGVmdDp5LmxlZnQtQS5sZWZ0K2cubGVmdCxyaWdodDpBLnJpZ2h0LXkucmlnaHQrZy5yaWdodH0sTz10Lm1vZGlmaWVyc0RhdGEub2Zmc2V0O2lmKCJwb3BwZXIiPT09ZCYmTyl7dmFyIGs9T1tuXTtPYmplY3Qua2V5cyhMKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1bWixHXS5pbmRleE9mKHQpPj0wPzE6LTEsaT1bUSxHXS5pbmRleE9mKHQpPj0wPyJ5IjoieCI7TFt0XSs9a1tpXSplfSkpfXJldHVybiBMfWZ1bmN0aW9uIFl0KHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBpPWUscz1pLnBsYWNlbWVudCxuPWkuYm91bmRhcnksbz1pLnJvb3RCb3VuZGFyeSxyPWkucGFkZGluZyxhPWkuZmxpcFZhcmlhdGlvbnMsbD1pLmFsbG93ZWRBdXRvUGxhY2VtZW50cyxjPXZvaWQgMD09PWw/aXQ6bCxkPUZ0KHMpLGg9ZD9hP2V0OmV0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIEZ0KHQpPT09ZH0pKTp0dCxmPWguZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gYy5pbmRleE9mKHQpPj0wfSkpOzA9PT1mLmxlbmd0aCYmKGY9aCk7dmFyIHU9Zi5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGVbaV09S3QodCx7cGxhY2VtZW50OmksYm91bmRhcnk6bixyb290Qm91bmRhcnk6byxwYWRkaW5nOnJ9KVtkdChpKV0sZX0pLHt9KTtyZXR1cm4gT2JqZWN0LmtleXModSkuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdVt0XS11W2VdfSkpfXZhciBxdD17bmFtZToiZmxpcCIsZW5hYmxlZDohMCxwaGFzZToibWFpbiIsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5zdGF0ZSxpPXQub3B0aW9ucyxzPXQubmFtZTtpZighZS5tb2RpZmllcnNEYXRhW3NdLl9za2lwKXtmb3IodmFyIG49aS5tYWluQXhpcyxvPXZvaWQgMD09PW58fG4scj1pLmFsdEF4aXMsYT12b2lkIDA9PT1yfHxyLGw9aS5mYWxsYmFja1BsYWNlbWVudHMsYz1pLnBhZGRpbmcsZD1pLmJvdW5kYXJ5LGg9aS5yb290Qm91bmRhcnksZj1pLmFsdEJvdW5kYXJ5LHU9aS5mbGlwVmFyaWF0aW9ucyxwPXZvaWQgMD09PXV8fHUsZz1pLmFsbG93ZWRBdXRvUGxhY2VtZW50cyxtPWUub3B0aW9ucy5wbGFjZW1lbnQsXz1kdChtKSxiPWx8fChfIT09bSYmcD9mdW5jdGlvbih0KXtpZigiYXV0byI9PT1kdCh0KSlyZXR1cm5bXTt2YXIgZT1QdCh0KTtyZXR1cm5bTXQodCksZSxNdChlKV19KG0pOltQdChtKV0pLHY9W21dLmNvbmNhdChiKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQuY29uY2F0KCJhdXRvIj09PWR0KGkpP1l0KGUse3BsYWNlbWVudDppLGJvdW5kYXJ5OmQscm9vdEJvdW5kYXJ5OmgscGFkZGluZzpjLGZsaXBWYXJpYXRpb25zOnAsYWxsb3dlZEF1dG9QbGFjZW1lbnRzOmd9KTppKX0pLFtdKSx5PWUucmVjdHMucmVmZXJlbmNlLHc9ZS5yZWN0cy5wb3BwZXIsRT1uZXcgTWFwLFQ9ITAsQT12WzBdLEw9MDtMPHYubGVuZ3RoO0wrKyl7dmFyIE89dltMXSxrPWR0KE8pLEQ9InN0YXJ0Ij09PUZ0KE8pLHg9W1EsR10uaW5kZXhPZihrKT49MCxDPXg/IndpZHRoIjoiaGVpZ2h0IixTPUt0KGUse3BsYWNlbWVudDpPLGJvdW5kYXJ5OmQscm9vdEJvdW5kYXJ5OmgsYWx0Qm91bmRhcnk6ZixwYWRkaW5nOmN9KSxOPXg/RD9aOko6RD9HOlE7eVtDXT53W0NdJiYoTj1QdChOKSk7dmFyIGo9UHQoTiksUD1bXTtpZihvJiZQLnB1c2goU1trXTw9MCksYSYmUC5wdXNoKFNbTl08PTAsU1tqXTw9MCksUC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSkpe0E9TyxUPSExO2JyZWFrfUUuc2V0KE8sUCl9aWYoVClmb3IodmFyIEk9ZnVuY3Rpb24odCl7dmFyIGU9di5maW5kKChmdW5jdGlvbihlKXt2YXIgaT1FLmdldChlKTtpZihpKXJldHVybiBpLnNsaWNlKDAsdCkuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpfSkpO2lmKGUpcmV0dXJuIEE9ZSwiYnJlYWsifSxNPXA/MzoxO00+MCYmImJyZWFrIiE9PUkoTSk7TS0tKTtlLnBsYWNlbWVudCE9PUEmJihlLm1vZGlmaWVyc0RhdGFbc10uX3NraXA9ITAsZS5wbGFjZW1lbnQ9QSxlLnJlc2V0PSEwKX19LHJlcXVpcmVzSWZFeGlzdHM6WyJvZmZzZXQiXSxkYXRhOntfc2tpcDohMX19O2Z1bmN0aW9uIFZ0KHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9e3g6MCx5OjB9KSx7dG9wOnQudG9wLWUuaGVpZ2h0LWkueSxyaWdodDp0LnJpZ2h0LWUud2lkdGgraS54LGJvdHRvbTp0LmJvdHRvbS1lLmhlaWdodCtpLnksbGVmdDp0LmxlZnQtZS53aWR0aC1pLnh9fWZ1bmN0aW9uIFh0KHQpe3JldHVybltRLFosRyxKXS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT49MH0pKX12YXIgUXQ9e25hbWU6ImhpZGUiLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLHJlcXVpcmVzSWZFeGlzdHM6WyJwcmV2ZW50T3ZlcmZsb3ciXSxmbjpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXRlLGk9dC5uYW1lLHM9ZS5yZWN0cy5yZWZlcmVuY2Usbj1lLnJlY3RzLnBvcHBlcixvPWUubW9kaWZpZXJzRGF0YS5wcmV2ZW50T3ZlcmZsb3cscj1LdChlLHtlbGVtZW50Q29udGV4dDoicmVmZXJlbmNlIn0pLGE9S3QoZSx7YWx0Qm91bmRhcnk6ITB9KSxsPVZ0KHIscyksYz1WdChhLG4sbyksZD1YdChsKSxoPVh0KGMpO2UubW9kaWZpZXJzRGF0YVtpXT17cmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzOmwscG9wcGVyRXNjYXBlT2Zmc2V0czpjLGlzUmVmZXJlbmNlSGlkZGVuOmQsaGFzUG9wcGVyRXNjYXBlZDpofSxlLmF0dHJpYnV0ZXMucG9wcGVyPU9iamVjdC5hc3NpZ24oe30sZS5hdHRyaWJ1dGVzLnBvcHBlcix7ImRhdGEtcG9wcGVyLXJlZmVyZW5jZS1oaWRkZW4iOmQsImRhdGEtcG9wcGVyLWVzY2FwZWQiOmh9KX19LEd0PXtuYW1lOiJvZmZzZXQiLGVuYWJsZWQ6ITAscGhhc2U6Im1haW4iLHJlcXVpcmVzOlsicG9wcGVyT2Zmc2V0cyJdLGZuOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGUsaT10Lm9wdGlvbnMscz10Lm5hbWUsbj1pLm9mZnNldCxvPXZvaWQgMD09PW4/WzAsMF06bixyPWl0LnJlZHVjZSgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdFtpXT1mdW5jdGlvbih0LGUsaSl7dmFyIHM9ZHQodCksbj1bSixRXS5pbmRleE9mKHMpPj0wPy0xOjEsbz0iZnVuY3Rpb24iPT10eXBlb2YgaT9pKE9iamVjdC5hc3NpZ24oe30sZSx7cGxhY2VtZW50OnR9KSk6aSxyPW9bMF0sYT1vWzFdO3JldHVybiByPXJ8fDAsYT0oYXx8MCkqbixbSixaXS5pbmRleE9mKHMpPj0wP3t4OmEseTpyfTp7eDpyLHk6YX19KGksZS5yZWN0cyxvKSx0fSkse30pLGE9cltlLnBsYWNlbWVudF0sbD1hLngsYz1hLnk7bnVsbCE9ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMmJihlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cy54Kz1sLGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnkrPWMpLGUubW9kaWZpZXJzRGF0YVtzXT1yfX0sWnQ9e25hbWU6InBvcHBlck9mZnNldHMiLGVuYWJsZWQ6ITAscGhhc2U6InJlYWQiLGZuOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3RhdGUsaT10Lm5hbWU7ZS5tb2RpZmllcnNEYXRhW2ldPXp0KHtyZWZlcmVuY2U6ZS5yZWN0cy5yZWZlcmVuY2UsZWxlbWVudDplLnJlY3RzLnBvcHBlcixzdHJhdGVneToiYWJzb2x1dGUiLHBsYWNlbWVudDplLnBsYWNlbWVudH0pfSxkYXRhOnt9fSxKdD17bmFtZToicHJldmVudE92ZXJmbG93IixlbmFibGVkOiEwLHBoYXNlOiJtYWluIixmbjpmdW5jdGlvbih0KXt2YXIgZT10LnN0YXRlLGk9dC5vcHRpb25zLHM9dC5uYW1lLG49aS5tYWluQXhpcyxvPXZvaWQgMD09PW58fG4scj1pLmFsdEF4aXMsYT12b2lkIDAhPT1yJiZyLGw9aS5ib3VuZGFyeSxjPWkucm9vdEJvdW5kYXJ5LGQ9aS5hbHRCb3VuZGFyeSxoPWkucGFkZGluZyxmPWkudGV0aGVyLHU9dm9pZCAwPT09Znx8ZixwPWkudGV0aGVyT2Zmc2V0LGc9dm9pZCAwPT09cD8wOnAsbT1LdChlLHtib3VuZGFyeTpsLHJvb3RCb3VuZGFyeTpjLHBhZGRpbmc6aCxhbHRCb3VuZGFyeTpkfSksXz1kdChlLnBsYWNlbWVudCksYj1GdChlLnBsYWNlbWVudCksdj0hYix5PXl0KF8pLHc9IngiPT09eT8ieSI6IngiLEU9ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMsVD1lLnJlY3RzLnJlZmVyZW5jZSxBPWUucmVjdHMucG9wcGVyLEw9ImZ1bmN0aW9uIj09dHlwZW9mIGc/ZyhPYmplY3QuYXNzaWduKHt9LGUucmVjdHMse3BsYWNlbWVudDplLnBsYWNlbWVudH0pKTpnLE89e3g6MCx5OjB9O2lmKEUpe2lmKG98fGEpe3ZhciBrPSJ5Ij09PXk/UTpKLEQ9InkiPT09eT9HOloseD0ieSI9PT15PyJoZWlnaHQiOiJ3aWR0aCIsQz1FW3ldLFM9RVt5XSttW2tdLE49RVt5XS1tW0RdLGo9dT8tQVt4XS8yOjAsUD0ic3RhcnQiPT09Yj9UW3hdOkFbeF0sST0ic3RhcnQiPT09Yj8tQVt4XTotVFt4XSxNPWUuZWxlbWVudHMuYXJyb3csUj11JiZNP2Z0KE0pOnt3aWR0aDowLGhlaWdodDowfSxCPWUubW9kaWZpZXJzRGF0YVsiYXJyb3cjcGVyc2lzdGVudCJdP2UubW9kaWZpZXJzRGF0YVsiYXJyb3cjcGVyc2lzdGVudCJdLnBhZGRpbmc6e3RvcDowLHJpZ2h0OjAsYm90dG9tOjAsbGVmdDowfSxIPUJba10sVz1CW0RdLFU9QXQoMCxUW3hdLFJbeF0pLCQ9dj9UW3hdLzItai1VLUgtTDpQLVUtSC1MLEY9dj8tVFt4XS8yK2orVStXK0w6SStVK1crTCx6PWUuZWxlbWVudHMuYXJyb3cmJnZ0KGUuZWxlbWVudHMuYXJyb3cpLEs9ej8ieSI9PT15P3ouY2xpZW50VG9wfHwwOnouY2xpZW50TGVmdHx8MDowLFk9ZS5tb2RpZmllcnNEYXRhLm9mZnNldD9lLm1vZGlmaWVyc0RhdGEub2Zmc2V0W2UucGxhY2VtZW50XVt5XTowLHE9RVt5XSskLVktSyxWPUVbeV0rRi1ZO2lmKG8pe3ZhciBYPUF0KHU/RXQoUyxxKTpTLEMsdT93dChOLFYpOk4pO0VbeV09WCxPW3ldPVgtQ31pZihhKXt2YXIgdHQ9IngiPT09eT9ROkosZXQ9IngiPT09eT9HOlosaXQ9RVt3XSxzdD1pdCttW3R0XSxudD1pdC1tW2V0XSxvdD1BdCh1P0V0KHN0LHEpOnN0LGl0LHU/d3QobnQsVik6bnQpO0Vbd109b3QsT1t3XT1vdC1pdH19ZS5tb2RpZmllcnNEYXRhW3NdPU99fSxyZXF1aXJlc0lmRXhpc3RzOlsib2Zmc2V0Il19O2Z1bmN0aW9uIHRlKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIHMsbixvPW10KGUpLHI9aHQodCksYT1hdChlKSxsPXtzY3JvbGxMZWZ0OjAsc2Nyb2xsVG9wOjB9LGM9e3g6MCx5OjB9O3JldHVybihhfHwhYSYmIWkpJiYoKCJib2R5IiE9PW50KGUpfHxIdChvKSkmJihsPShzPWUpIT09b3QocykmJmF0KHMpP3tzY3JvbGxMZWZ0OihuPXMpLnNjcm9sbExlZnQsc2Nyb2xsVG9wOm4uc2Nyb2xsVG9wfTpSdChzKSksYXQoZSk/KChjPWh0KGUpKS54Kz1lLmNsaWVudExlZnQsYy55Kz1lLmNsaWVudFRvcCk6byYmKGMueD1CdChvKSkpLHt4OnIubGVmdCtsLnNjcm9sbExlZnQtYy54LHk6ci50b3ArbC5zY3JvbGxUb3AtYy55LHdpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fX12YXIgZWU9e3BsYWNlbWVudDoiYm90dG9tIixtb2RpZmllcnM6W10sc3RyYXRlZ3k6ImFic29sdXRlIn07ZnVuY3Rpb24gaWUoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxpPTA7aTx0O2krKyllW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4hZS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4hKHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCl9KSl9ZnVuY3Rpb24gc2UodCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBlPXQsaT1lLmRlZmF1bHRNb2RpZmllcnMscz12b2lkIDA9PT1pP1tdOmksbj1lLmRlZmF1bHRPcHRpb25zLG89dm9pZCAwPT09bj9lZTpuO3JldHVybiBmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9byk7dmFyIG4scixhPXtwbGFjZW1lbnQ6ImJvdHRvbSIsb3JkZXJlZE1vZGlmaWVyczpbXSxvcHRpb25zOk9iamVjdC5hc3NpZ24oe30sZWUsbyksbW9kaWZpZXJzRGF0YTp7fSxlbGVtZW50czp7cmVmZXJlbmNlOnQscG9wcGVyOmV9LGF0dHJpYnV0ZXM6e30sc3R5bGVzOnt9fSxsPVtdLGM9ITEsZD17c3RhdGU6YSxzZXRPcHRpb25zOmZ1bmN0aW9uKGkpe2goKSxhLm9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxvLGEub3B0aW9ucyxpKSxhLnNjcm9sbFBhcmVudHM9e3JlZmVyZW5jZTpydCh0KT9XdCh0KTp0LmNvbnRleHRFbGVtZW50P1d0KHQuY29udGV4dEVsZW1lbnQpOltdLHBvcHBlcjpXdChlKX07dmFyIG4scixjPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBNYXAsaT1uZXcgU2V0LHM9W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5zZXQodC5uYW1lLHQpfSkpLHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5oYXModC5uYW1lKXx8ZnVuY3Rpb24gdChuKXtpLmFkZChuLm5hbWUpLFtdLmNvbmNhdChuLnJlcXVpcmVzfHxbXSxuLnJlcXVpcmVzSWZFeGlzdHN8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihzKXtpZighaS5oYXMocykpe3ZhciBuPWUuZ2V0KHMpO24mJnQobil9fSkpLHMucHVzaChuKX0odCl9KSksc30odCk7cmV0dXJuIHN0LnJlZHVjZSgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5jb25jYXQoZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBoYXNlPT09aX0pKSl9KSxbXSl9KChuPVtdLmNvbmNhdChzLGEub3B0aW9ucy5tb2RpZmllcnMpLHI9bi5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9dFtlLm5hbWVdO3JldHVybiB0W2UubmFtZV09aT9PYmplY3QuYXNzaWduKHt9LGksZSx7b3B0aW9uczpPYmplY3QuYXNzaWduKHt9LGkub3B0aW9ucyxlLm9wdGlvbnMpLGRhdGE6T2JqZWN0LmFzc2lnbih7fSxpLmRhdGEsZS5kYXRhKX0pOmUsdH0pLHt9KSxPYmplY3Qua2V5cyhyKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiByW3RdfSkpKSk7cmV0dXJuIGEub3JkZXJlZE1vZGlmaWVycz1jLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZW5hYmxlZH0pKSxhLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lLGk9dC5vcHRpb25zLHM9dm9pZCAwPT09aT97fTppLG49dC5lZmZlY3Q7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciBvPW4oe3N0YXRlOmEsbmFtZTplLGluc3RhbmNlOmQsb3B0aW9uczpzfSk7bC5wdXNoKG98fGZ1bmN0aW9uKCl7fSl9fSkpLGQudXBkYXRlKCl9LGZvcmNlVXBkYXRlOmZ1bmN0aW9uKCl7aWYoIWMpe3ZhciB0PWEuZWxlbWVudHMsZT10LnJlZmVyZW5jZSxpPXQucG9wcGVyO2lmKGllKGUsaSkpe2EucmVjdHM9e3JlZmVyZW5jZTp0ZShlLHZ0KGkpLCJmaXhlZCI9PT1hLm9wdGlvbnMuc3RyYXRlZ3kpLHBvcHBlcjpmdChpKX0sYS5yZXNldD0hMSxhLnBsYWNlbWVudD1hLm9wdGlvbnMucGxhY2VtZW50LGEub3JkZXJlZE1vZGlmaWVycy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gYS5tb2RpZmllcnNEYXRhW3QubmFtZV09T2JqZWN0LmFzc2lnbih7fSx0LmRhdGEpfSkpO2Zvcih2YXIgcz0wO3M8YS5vcmRlcmVkTW9kaWZpZXJzLmxlbmd0aDtzKyspaWYoITAhPT1hLnJlc2V0KXt2YXIgbj1hLm9yZGVyZWRNb2RpZmllcnNbc10sbz1uLmZuLHI9bi5vcHRpb25zLGw9dm9pZCAwPT09cj97fTpyLGg9bi5uYW1lOyJmdW5jdGlvbiI9PXR5cGVvZiBvJiYoYT1vKHtzdGF0ZTphLG9wdGlvbnM6bCxuYW1lOmgsaW5zdGFuY2U6ZH0pfHxhKX1lbHNlIGEucmVzZXQ9ITEscz0tMX19fSx1cGRhdGU6KG49ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe2QuZm9yY2VVcGRhdGUoKSx0KGEpfSkpfSxmdW5jdGlvbigpe3JldHVybiByfHwocj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyPXZvaWQgMCx0KG4oKSl9KSl9KSkpLHJ9KSxkZXN0cm95OmZ1bmN0aW9uKCl7aCgpLGM9ITB9fTtpZighaWUodCxlKSlyZXR1cm4gZDtmdW5jdGlvbiBoKCl7bC5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSkpLGw9W119cmV0dXJuIGQuc2V0T3B0aW9ucyhpKS50aGVuKChmdW5jdGlvbih0KXshYyYmaS5vbkZpcnN0VXBkYXRlJiZpLm9uRmlyc3RVcGRhdGUodCl9KSksZH19dmFyIG5lPXNlKCksb2U9c2Uoe2RlZmF1bHRNb2RpZmllcnM6W050LFp0LEN0LGN0XX0pLHJlPXNlKHtkZWZhdWx0TW9kaWZpZXJzOltOdCxadCxDdCxjdCxHdCxxdCxKdCxrdCxRdF19KSxhZT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxwb3BwZXJHZW5lcmF0b3I6c2UsZGV0ZWN0T3ZlcmZsb3c6S3QsY3JlYXRlUG9wcGVyQmFzZTpuZSxjcmVhdGVQb3BwZXI6cmUsY3JlYXRlUG9wcGVyTGl0ZTpvZSx0b3A6USxib3R0b206RyxyaWdodDpaLGxlZnQ6SixhdXRvOiJhdXRvIixiYXNlUGxhY2VtZW50czp0dCxzdGFydDoic3RhcnQiLGVuZDoiZW5kIixjbGlwcGluZ1BhcmVudHM6ImNsaXBwaW5nUGFyZW50cyIsdmlld3BvcnQ6InZpZXdwb3J0Iixwb3BwZXI6InBvcHBlciIscmVmZXJlbmNlOiJyZWZlcmVuY2UiLHZhcmlhdGlvblBsYWNlbWVudHM6ZXQscGxhY2VtZW50czppdCxiZWZvcmVSZWFkOiJiZWZvcmVSZWFkIixyZWFkOiJyZWFkIixhZnRlclJlYWQ6ImFmdGVyUmVhZCIsYmVmb3JlTWFpbjoiYmVmb3JlTWFpbiIsbWFpbjoibWFpbiIsYWZ0ZXJNYWluOiJhZnRlck1haW4iLGJlZm9yZVdyaXRlOiJiZWZvcmVXcml0ZSIsd3JpdGU6IndyaXRlIixhZnRlcldyaXRlOiJhZnRlcldyaXRlIixtb2RpZmllclBoYXNlczpzdCxhcHBseVN0eWxlczpjdCxhcnJvdzprdCxjb21wdXRlU3R5bGVzOkN0LGV2ZW50TGlzdGVuZXJzOk50LGZsaXA6cXQsaGlkZTpRdCxvZmZzZXQ6R3QscG9wcGVyT2Zmc2V0czpadCxwcmV2ZW50T3ZlcmZsb3c6SnR9KTtjb25zdCBsZT1uZXcgUmVnRXhwKCJBcnJvd1VwfEFycm93RG93bnxFc2NhcGUiKSxjZT1nKCk/InRvcC1lbmQiOiJ0b3Atc3RhcnQiLGRlPWcoKT8idG9wLXN0YXJ0IjoidG9wLWVuZCIsaGU9ZygpPyJib3R0b20tZW5kIjoiYm90dG9tLXN0YXJ0IixmZT1nKCk/ImJvdHRvbS1zdGFydCI6ImJvdHRvbS1lbmQiLHVlPWcoKT8ibGVmdC1zdGFydCI6InJpZ2h0LXN0YXJ0IixwZT1nKCk/InJpZ2h0LXN0YXJ0IjoibGVmdC1zdGFydCIsZ2U9e29mZnNldDpbMCwyXSxib3VuZGFyeToiY2xpcHBpbmdQYXJlbnRzIixyZWZlcmVuY2U6InRvZ2dsZSIsZGlzcGxheToiZHluYW1pYyIscG9wcGVyQ29uZmlnOm51bGx9LG1lPXtvZmZzZXQ6IihhcnJheXxzdHJpbmd8ZnVuY3Rpb24pIixib3VuZGFyeToiKHN0cmluZ3xlbGVtZW50KSIscmVmZXJlbmNlOiIoc3RyaW5nfGVsZW1lbnR8b2JqZWN0KSIsZGlzcGxheToic3RyaW5nIixwb3BwZXJDb25maWc6IihudWxsfG9iamVjdHxmdW5jdGlvbikifTtjbGFzcyBfZSBleHRlbmRzIGp7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9wb3BwZXI9bnVsbCx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX21lbnU9dGhpcy5fZ2V0TWVudUVsZW1lbnQoKSx0aGlzLl9pbk5hdmJhcj10aGlzLl9kZXRlY3ROYXZiYXIoKSx0aGlzLl9hZGRFdmVudExpc3RlbmVycygpfXN0YXRpYyBnZXQgRGVmYXVsdCgpe3JldHVybiBnZX1zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJuIG1lfXN0YXRpYyBnZXQgREFUQV9LRVkoKXtyZXR1cm4iYnMuZHJvcGRvd24ifXRvZ2dsZSgpe2lmKHRoaXMuX2VsZW1lbnQuZGlzYWJsZWR8fHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkaXNhYmxlZCIpKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJzaG93Iik7X2UuY2xlYXJNZW51cygpLHR8fHRoaXMuc2hvdygpfXNob3coKXtpZih0aGlzLl9lbGVtZW50LmRpc2FibGVkfHx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKXx8dGhpcy5fbWVudS5jbGFzc0xpc3QuY29udGFpbnMoInNob3ciKSlyZXR1cm47Y29uc3QgdD1fZS5nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KSxlPXtyZWxhdGVkVGFyZ2V0OnRoaXMuX2VsZW1lbnR9O2lmKCFOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwic2hvdy5icy5kcm9wZG93biIsZSkuZGVmYXVsdFByZXZlbnRlZCl7aWYodGhpcy5faW5OYXZiYXIpQi5zZXREYXRhQXR0cmlidXRlKHRoaXMuX21lbnUsInBvcHBlciIsIm5vbmUiKTtlbHNle2lmKHZvaWQgMD09PWFlKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvb3RzdHJhcCdzIGRyb3Bkb3ducyByZXF1aXJlIFBvcHBlciAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKSIpO2xldCBlPXRoaXMuX2VsZW1lbnQ7InBhcmVudCI9PT10aGlzLl9jb25maWcucmVmZXJlbmNlP2U9dDpyKHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UpPyhlPXRoaXMuX2NvbmZpZy5yZWZlcmVuY2Usdm9pZCAwIT09dGhpcy5fY29uZmlnLnJlZmVyZW5jZS5qcXVlcnkmJihlPXRoaXMuX2NvbmZpZy5yZWZlcmVuY2VbMF0pKToib2JqZWN0Ij09dHlwZW9mIHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UmJihlPXRoaXMuX2NvbmZpZy5yZWZlcmVuY2UpO2NvbnN0IGk9dGhpcy5fZ2V0UG9wcGVyQ29uZmlnKCkscz1pLm1vZGlmaWVycy5maW5kKHQ9PiJhcHBseVN0eWxlcyI9PT10Lm5hbWUmJiExPT09dC5lbmFibGVkKTt0aGlzLl9wb3BwZXI9cmUoZSx0aGlzLl9tZW51LGkpLHMmJkIuc2V0RGF0YUF0dHJpYnV0ZSh0aGlzLl9tZW51LCJwb3BwZXIiLCJzdGF0aWMiKX0ib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmIXQuY2xvc2VzdCgiLm5hdmJhci1uYXYiKSYmW10uY29uY2F0KC4uLmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2godD0+Ti5vbih0LCJtb3VzZW92ZXIiLG51bGwsKGZ1bmN0aW9uKCl7fSkpKSx0aGlzLl9lbGVtZW50LmZvY3VzKCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLl9tZW51LmNsYXNzTGlzdC50b2dnbGUoInNob3ciKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoInNob3ciKSxOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwic2hvd24uYnMuZHJvcGRvd24iLGUpfX1oaWRlKCl7aWYodGhpcy5fZWxlbWVudC5kaXNhYmxlZHx8dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImRpc2FibGVkIil8fCF0aGlzLl9tZW51LmNsYXNzTGlzdC5jb250YWlucygic2hvdyIpKXJldHVybjtjb25zdCB0PXtyZWxhdGVkVGFyZ2V0OnRoaXMuX2VsZW1lbnR9O04udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJoaWRlLmJzLmRyb3Bkb3duIix0KS5kZWZhdWx0UHJldmVudGVkfHwodGhpcy5fcG9wcGVyJiZ0aGlzLl9wb3BwZXIuZGVzdHJveSgpLHRoaXMuX21lbnUuY2xhc3NMaXN0LnRvZ2dsZSgic2hvdyIpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgic2hvdyIpLEIucmVtb3ZlRGF0YUF0dHJpYnV0ZSh0aGlzLl9tZW51LCJwb3BwZXIiKSxOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZGVuLmJzLmRyb3Bkb3duIix0KSl9ZGlzcG9zZSgpe04ub2ZmKHRoaXMuX2VsZW1lbnQsIi5icy5kcm9wZG93biIpLHRoaXMuX21lbnU9bnVsbCx0aGlzLl9wb3BwZXImJih0aGlzLl9wb3BwZXIuZGVzdHJveSgpLHRoaXMuX3BvcHBlcj1udWxsKSxzdXBlci5kaXNwb3NlKCl9dXBkYXRlKCl7dGhpcy5faW5OYXZiYXI9dGhpcy5fZGV0ZWN0TmF2YmFyKCksdGhpcy5fcG9wcGVyJiZ0aGlzLl9wb3BwZXIudXBkYXRlKCl9X2FkZEV2ZW50TGlzdGVuZXJzKCl7Ti5vbih0aGlzLl9lbGVtZW50LCJjbGljay5icy5kcm9wZG93biIsdD0+e3QucHJldmVudERlZmF1bHQoKSx0aGlzLnRvZ2dsZSgpfSl9X2dldENvbmZpZyh0KXtpZih0PXsuLi50aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsLi4uQi5nZXREYXRhQXR0cmlidXRlcyh0aGlzLl9lbGVtZW50KSwuLi50fSxsKCJkcm9wZG93biIsdCx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKSwib2JqZWN0Ij09dHlwZW9mIHQucmVmZXJlbmNlJiYhcih0LnJlZmVyZW5jZSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0LnJlZmVyZW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpdGhyb3cgbmV3IFR5cGVFcnJvcigiZHJvcGRvd24iLnRvVXBwZXJDYXNlKCkrJzogT3B0aW9uICJyZWZlcmVuY2UiIHByb3ZpZGVkIHR5cGUgIm9iamVjdCIgd2l0aG91dCBhIHJlcXVpcmVkICJnZXRCb3VuZGluZ0NsaWVudFJlY3QiIG1ldGhvZC4nKTtyZXR1cm4gdH1fZ2V0TWVudUVsZW1lbnQoKXtyZXR1cm4gSC5uZXh0KHRoaXMuX2VsZW1lbnQsIi5kcm9wZG93bi1tZW51IilbMF19X2dldFBsYWNlbWVudCgpe2NvbnN0IHQ9dGhpcy5fZWxlbWVudC5wYXJlbnROb2RlO2lmKHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkcm9wZW5kIikpcmV0dXJuIHVlO2lmKHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkcm9wc3RhcnQiKSlyZXR1cm4gcGU7Y29uc3QgZT0iZW5kIj09PWdldENvbXB1dGVkU3R5bGUodGhpcy5fbWVudSkuZ2V0UHJvcGVydHlWYWx1ZSgiLS1icy1wb3NpdGlvbiIpLnRyaW0oKTtyZXR1cm4gdC5jbGFzc0xpc3QuY29udGFpbnMoImRyb3B1cCIpP2U/ZGU6Y2U6ZT9mZTpoZX1fZGV0ZWN0TmF2YmFyKCl7cmV0dXJuIG51bGwhPT10aGlzLl9lbGVtZW50LmNsb3Nlc3QoIi5uYXZiYXIiKX1fZ2V0T2Zmc2V0KCl7Y29uc3R7b2Zmc2V0OnR9PXRoaXMuX2NvbmZpZztyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/dC5zcGxpdCgiLCIpLm1hcCh0PT5OdW1iZXIucGFyc2VJbnQodCwxMCkpOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2U9PnQoZSx0aGlzLl9lbGVtZW50KTp0fV9nZXRQb3BwZXJDb25maWcoKXtjb25zdCB0PXtwbGFjZW1lbnQ6dGhpcy5fZ2V0UGxhY2VtZW50KCksbW9kaWZpZXJzOlt7bmFtZToicHJldmVudE92ZXJmbG93IixvcHRpb25zOntib3VuZGFyeTp0aGlzLl9jb25maWcuYm91bmRhcnl9fSx7bmFtZToib2Zmc2V0IixvcHRpb25zOntvZmZzZXQ6dGhpcy5fZ2V0T2Zmc2V0KCl9fV19O3JldHVybiJzdGF0aWMiPT09dGhpcy5fY29uZmlnLmRpc3BsYXkmJih0Lm1vZGlmaWVycz1be25hbWU6ImFwcGx5U3R5bGVzIixlbmFibGVkOiExfV0pLHsuLi50LC4uLiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnP3RoaXMuX2NvbmZpZy5wb3BwZXJDb25maWcodCk6dGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZ319c3RhdGljIGRyb3Bkb3duSW50ZXJmYWNlKHQsZSl7bGV0IGk9Yi5nZXQodCwiYnMuZHJvcGRvd24iKTtpZihpfHwoaT1uZXcgX2UodCwib2JqZWN0Ij09dHlwZW9mIGU/ZTpudWxsKSksInN0cmluZyI9PXR5cGVvZiBlKXtpZih2b2lkIDA9PT1pW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHtlfSJgKTtpW2VdKCl9fXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UodCl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtfZS5kcm9wZG93bkludGVyZmFjZSh0aGlzLHQpfSkpfXN0YXRpYyBjbGVhck1lbnVzKHQpe2lmKHQpe2lmKDI9PT10LmJ1dHRvbnx8ImtleXVwIj09PXQudHlwZSYmIlRhYiIhPT10LmtleSlyZXR1cm47aWYoL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxmb3JtL2kudGVzdCh0LnRhcmdldC50YWdOYW1lKSlyZXR1cm59Y29uc3QgZT1ILmZpbmQoJ1tkYXRhLWJzLXRvZ2dsZT0iZHJvcGRvd24iXScpO2ZvcihsZXQgaT0wLHM9ZS5sZW5ndGg7aTxzO2krKyl7Y29uc3Qgcz1iLmdldChlW2ldLCJicy5kcm9wZG93biIpLG49e3JlbGF0ZWRUYXJnZXQ6ZVtpXX07aWYodCYmImNsaWNrIj09PXQudHlwZSYmKG4uY2xpY2tFdmVudD10KSwhcyljb250aW51ZTtjb25zdCBvPXMuX21lbnU7aWYoZVtpXS5jbGFzc0xpc3QuY29udGFpbnMoInNob3ciKSl7aWYodCl7aWYoW3MuX2VsZW1lbnRdLnNvbWUoZT0+dC5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhlKSkpY29udGludWU7aWYoImtleXVwIj09PXQudHlwZSYmIlRhYiI9PT10LmtleSYmby5jb250YWlucyh0LnRhcmdldCkpY29udGludWV9Ti50cmlnZ2VyKGVbaV0sImhpZGUuYnMuZHJvcGRvd24iLG4pLmRlZmF1bHRQcmV2ZW50ZWR8fCgib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmW10uY29uY2F0KC4uLmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2godD0+Ti5vZmYodCwibW91c2VvdmVyIixudWxsLChmdW5jdGlvbigpe30pKSksZVtpXS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLHMuX3BvcHBlciYmcy5fcG9wcGVyLmRlc3Ryb3koKSxvLmNsYXNzTGlzdC5yZW1vdmUoInNob3ciKSxlW2ldLmNsYXNzTGlzdC5yZW1vdmUoInNob3ciKSxCLnJlbW92ZURhdGFBdHRyaWJ1dGUobywicG9wcGVyIiksTi50cmlnZ2VyKGVbaV0sImhpZGRlbi5icy5kcm9wZG93biIsbikpfX19c3RhdGljIGdldFBhcmVudEZyb21FbGVtZW50KHQpe3JldHVybiBzKHQpfHx0LnBhcmVudE5vZGV9c3RhdGljIGRhdGFBcGlLZXlkb3duSGFuZGxlcih0KXtpZigvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KHQudGFyZ2V0LnRhZ05hbWUpPyJTcGFjZSI9PT10LmtleXx8IkVzY2FwZSIhPT10LmtleSYmKCJBcnJvd0Rvd24iIT09dC5rZXkmJiJBcnJvd1VwIiE9PXQua2V5fHx0LnRhcmdldC5jbG9zZXN0KCIuZHJvcGRvd24tbWVudSIpKTohbGUudGVzdCh0LmtleSkpcmV0dXJuO2lmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuZGlzYWJsZWR8fHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCJkaXNhYmxlZCIpKXJldHVybjtjb25zdCBlPV9lLmdldFBhcmVudEZyb21FbGVtZW50KHRoaXMpLGk9dGhpcy5jbGFzc0xpc3QuY29udGFpbnMoInNob3ciKTtpZigiRXNjYXBlIj09PXQua2V5KXJldHVybih0aGlzLm1hdGNoZXMoJ1tkYXRhLWJzLXRvZ2dsZT0iZHJvcGRvd24iXScpP3RoaXM6SC5wcmV2KHRoaXMsJ1tkYXRhLWJzLXRvZ2dsZT0iZHJvcGRvd24iXScpWzBdKS5mb2N1cygpLHZvaWQgX2UuY2xlYXJNZW51cygpO2lmKCFpJiYoIkFycm93VXAiPT09dC5rZXl8fCJBcnJvd0Rvd24iPT09dC5rZXkpKXJldHVybiB2b2lkKHRoaXMubWF0Y2hlcygnW2RhdGEtYnMtdG9nZ2xlPSJkcm9wZG93biJdJyk/dGhpczpILnByZXYodGhpcywnW2RhdGEtYnMtdG9nZ2xlPSJkcm9wZG93biJdJylbMF0pLmNsaWNrKCk7aWYoIWl8fCJTcGFjZSI9PT10LmtleSlyZXR1cm4gdm9pZCBfZS5jbGVhck1lbnVzKCk7Y29uc3Qgcz1ILmZpbmQoIi5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOm5vdCguZGlzYWJsZWQpOm5vdCg6ZGlzYWJsZWQpIixlKS5maWx0ZXIoYyk7aWYoIXMubGVuZ3RoKXJldHVybjtsZXQgbj1zLmluZGV4T2YodC50YXJnZXQpOyJBcnJvd1VwIj09PXQua2V5JiZuPjAmJm4tLSwiQXJyb3dEb3duIj09PXQua2V5JiZuPHMubGVuZ3RoLTEmJm4rKyxuPS0xPT09bj8wOm4sc1tuXS5mb2N1cygpfX1OLm9uKGRvY3VtZW50LCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwnW2RhdGEtYnMtdG9nZ2xlPSJkcm9wZG93biJdJyxfZS5kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLE4ub24oZG9jdW1lbnQsImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGkiLCIuZHJvcGRvd24tbWVudSIsX2UuZGF0YUFwaUtleWRvd25IYW5kbGVyKSxOLm9uKGRvY3VtZW50LCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsX2UuY2xlYXJNZW51cyksTi5vbihkb2N1bWVudCwia2V5dXAuYnMuZHJvcGRvd24uZGF0YS1hcGkiLF9lLmNsZWFyTWVudXMpLE4ub24oZG9jdW1lbnQsImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwnW2RhdGEtYnMtdG9nZ2xlPSJkcm9wZG93biJdJywoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLF9lLmRyb3Bkb3duSW50ZXJmYWNlKHRoaXMpfSkpLG0oImRyb3Bkb3duIixfZSk7Y29uc3QgYmU9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLGZvY3VzOiEwfSx2ZT17YmFja2Ryb3A6Iihib29sZWFufHN0cmluZykiLGtleWJvYXJkOiJib29sZWFuIixmb2N1czoiYm9vbGVhbiJ9O2NsYXNzIHllIGV4dGVuZHMgantjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoZSksdGhpcy5fZGlhbG9nPUguZmluZE9uZSgiLm1vZGFsLWRpYWxvZyIsdGhpcy5fZWxlbWVudCksdGhpcy5fYmFja2Ryb3A9bnVsbCx0aGlzLl9pc1Nob3duPSExLHRoaXMuX2lzQm9keU92ZXJmbG93aW5nPSExLHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITEsdGhpcy5faXNUcmFuc2l0aW9uaW5nPSExLHRoaXMuX3Njcm9sbGJhcldpZHRoPTB9c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIGJlfXN0YXRpYyBnZXQgREFUQV9LRVkoKXtyZXR1cm4iYnMubW9kYWwifXRvZ2dsZSh0KXtyZXR1cm4gdGhpcy5faXNTaG93bj90aGlzLmhpZGUoKTp0aGlzLnNob3codCl9c2hvdyh0KXtpZih0aGlzLl9pc1Nob3dufHx0aGlzLl9pc1RyYW5zaXRpb25pbmcpcmV0dXJuO3RoaXMuX2lzQW5pbWF0ZWQoKSYmKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCk7Y29uc3QgZT1OLnRyaWdnZXIodGhpcy5fZWxlbWVudCwic2hvdy5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6dH0pO3RoaXMuX2lzU2hvd258fGUuZGVmYXVsdFByZXZlbnRlZHx8KHRoaXMuX2lzU2hvd249ITAsdGhpcy5fY2hlY2tTY3JvbGxiYXIoKSx0aGlzLl9zZXRTY3JvbGxiYXIoKSx0aGlzLl9hZGp1c3REaWFsb2coKSx0aGlzLl9zZXRFc2NhcGVFdmVudCgpLHRoaXMuX3NldFJlc2l6ZUV2ZW50KCksTi5vbih0aGlzLl9lbGVtZW50LCJjbGljay5kaXNtaXNzLmJzLm1vZGFsIiwnW2RhdGEtYnMtZGlzbWlzcz0ibW9kYWwiXScsdD0+dGhpcy5oaWRlKHQpKSxOLm9uKHRoaXMuX2RpYWxvZywibW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwiLCgpPT57Ti5vbmUodGhpcy5fZWxlbWVudCwibW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsIix0PT57dC50YXJnZXQ9PT10aGlzLl9lbGVtZW50JiYodGhpcy5faWdub3JlQmFja2Ryb3BDbGljaz0hMCl9KX0pLHRoaXMuX3Nob3dCYWNrZHJvcCgoKT0+dGhpcy5fc2hvd0VsZW1lbnQodCkpKX1oaWRlKHQpe2lmKHQmJnQucHJldmVudERlZmF1bHQoKSwhdGhpcy5faXNTaG93bnx8dGhpcy5faXNUcmFuc2l0aW9uaW5nKXJldHVybjtpZihOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZS5icy5tb2RhbCIpLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO3RoaXMuX2lzU2hvd249ITE7Y29uc3QgZT10aGlzLl9pc0FuaW1hdGVkKCk7aWYoZSYmKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCksdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLE4ub2ZmKGRvY3VtZW50LCJmb2N1c2luLmJzLm1vZGFsIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJzaG93IiksTi5vZmYodGhpcy5fZWxlbWVudCwiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIpLE4ub2ZmKHRoaXMuX2RpYWxvZywibW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwiKSxlKXtjb25zdCB0PW4odGhpcy5fZWxlbWVudCk7Ti5vbmUodGhpcy5fZWxlbWVudCwidHJhbnNpdGlvbmVuZCIsdD0+dGhpcy5faGlkZU1vZGFsKHQpKSxhKHRoaXMuX2VsZW1lbnQsdCl9ZWxzZSB0aGlzLl9oaWRlTW9kYWwoKX1kaXNwb3NlKCl7W3dpbmRvdyx0aGlzLl9lbGVtZW50LHRoaXMuX2RpYWxvZ10uZm9yRWFjaCh0PT5OLm9mZih0LCIuYnMubW9kYWwiKSksc3VwZXIuZGlzcG9zZSgpLE4ub2ZmKGRvY3VtZW50LCJmb2N1c2luLmJzLm1vZGFsIiksdGhpcy5fY29uZmlnPW51bGwsdGhpcy5fZGlhbG9nPW51bGwsdGhpcy5fYmFja2Ryb3A9bnVsbCx0aGlzLl9pc1Nob3duPW51bGwsdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmc9bnVsbCx0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrPW51bGwsdGhpcy5faXNUcmFuc2l0aW9uaW5nPW51bGwsdGhpcy5fc2Nyb2xsYmFyV2lkdGg9bnVsbH1oYW5kbGVVcGRhdGUoKXt0aGlzLl9hZGp1c3REaWFsb2coKX1fZ2V0Q29uZmlnKHQpe3JldHVybiB0PXsuLi5iZSwuLi50fSxsKCJtb2RhbCIsdCx2ZSksdH1fc2hvd0VsZW1lbnQodCl7Y29uc3QgZT10aGlzLl9pc0FuaW1hdGVkKCksaT1ILmZpbmRPbmUoIi5tb2RhbC1ib2R5Iix0aGlzLl9kaWFsb2cpO3RoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREV8fGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCksdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5PSJibG9jayIsdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtbW9kYWwiLCEwKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgicm9sZSIsImRpYWxvZyIpLHRoaXMuX2VsZW1lbnQuc2Nyb2xsVG9wPTAsaSYmKGkuc2Nyb2xsVG9wPTApLGUmJnUodGhpcy5fZWxlbWVudCksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJzaG93IiksdGhpcy5fY29uZmlnLmZvY3VzJiZ0aGlzLl9lbmZvcmNlRm9jdXMoKTtjb25zdCBzPSgpPT57dGhpcy5fY29uZmlnLmZvY3VzJiZ0aGlzLl9lbGVtZW50LmZvY3VzKCksdGhpcy5faXNUcmFuc2l0aW9uaW5nPSExLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJzaG93bi5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6dH0pfTtpZihlKXtjb25zdCB0PW4odGhpcy5fZGlhbG9nKTtOLm9uZSh0aGlzLl9kaWFsb2csInRyYW5zaXRpb25lbmQiLHMpLGEodGhpcy5fZGlhbG9nLHQpfWVsc2UgcygpfV9lbmZvcmNlRm9jdXMoKXtOLm9mZihkb2N1bWVudCwiZm9jdXNpbi5icy5tb2RhbCIpLE4ub24oZG9jdW1lbnQsImZvY3VzaW4uYnMubW9kYWwiLHQ9Pntkb2N1bWVudD09PXQudGFyZ2V0fHx0aGlzLl9lbGVtZW50PT09dC50YXJnZXR8fHRoaXMuX2VsZW1lbnQuY29udGFpbnModC50YXJnZXQpfHx0aGlzLl9lbGVtZW50LmZvY3VzKCl9KX1fc2V0RXNjYXBlRXZlbnQoKXt0aGlzLl9pc1Nob3duP04ub24odGhpcy5fZWxlbWVudCwia2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsIix0PT57dGhpcy5fY29uZmlnLmtleWJvYXJkJiYiRXNjYXBlIj09PXQua2V5Pyh0LnByZXZlbnREZWZhdWx0KCksdGhpcy5oaWRlKCkpOnRoaXMuX2NvbmZpZy5rZXlib2FyZHx8IkVzY2FwZSIhPT10LmtleXx8dGhpcy5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpfSk6Ti5vZmYodGhpcy5fZWxlbWVudCwia2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsIil9X3NldFJlc2l6ZUV2ZW50KCl7dGhpcy5faXNTaG93bj9OLm9uKHdpbmRvdywicmVzaXplLmJzLm1vZGFsIiwoKT0+dGhpcy5fYWRqdXN0RGlhbG9nKCkpOk4ub2ZmKHdpbmRvdywicmVzaXplLmJzLm1vZGFsIil9X2hpZGVNb2RhbCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtbW9kYWwiKSx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgicm9sZSIpLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl9zaG93QmFja2Ryb3AoKCk9Pntkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoIm1vZGFsLW9wZW4iKSx0aGlzLl9yZXNldEFkanVzdG1lbnRzKCksdGhpcy5fcmVzZXRTY3JvbGxiYXIoKSxOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZGVuLmJzLm1vZGFsIil9KX1fcmVtb3ZlQmFja2Ryb3AoKXt0aGlzLl9iYWNrZHJvcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2JhY2tkcm9wKSx0aGlzLl9iYWNrZHJvcD1udWxsfV9zaG93QmFja2Ryb3AodCl7Y29uc3QgZT10aGlzLl9pc0FuaW1hdGVkKCk7aWYodGhpcy5faXNTaG93biYmdGhpcy5fY29uZmlnLmJhY2tkcm9wKXtpZih0aGlzLl9iYWNrZHJvcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLl9iYWNrZHJvcC5jbGFzc05hbWU9Im1vZGFsLWJhY2tkcm9wIixlJiZ0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCJmYWRlIiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9iYWNrZHJvcCksTi5vbih0aGlzLl9lbGVtZW50LCJjbGljay5kaXNtaXNzLmJzLm1vZGFsIix0PT57dGhpcy5faWdub3JlQmFja2Ryb3BDbGljaz90aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrPSExOnQudGFyZ2V0PT09dC5jdXJyZW50VGFyZ2V0JiYoInN0YXRpYyI9PT10aGlzLl9jb25maWcuYmFja2Ryb3A/dGhpcy5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpOnRoaXMuaGlkZSgpKX0pLGUmJnUodGhpcy5fYmFja2Ryb3ApLHRoaXMuX2JhY2tkcm9wLmNsYXNzTGlzdC5hZGQoInNob3ciKSwhZSlyZXR1cm4gdm9pZCB0KCk7Y29uc3QgaT1uKHRoaXMuX2JhY2tkcm9wKTtOLm9uZSh0aGlzLl9iYWNrZHJvcCwidHJhbnNpdGlvbmVuZCIsdCksYSh0aGlzLl9iYWNrZHJvcCxpKX1lbHNlIGlmKCF0aGlzLl9pc1Nob3duJiZ0aGlzLl9iYWNrZHJvcCl7dGhpcy5fYmFja2Ryb3AuY2xhc3NMaXN0LnJlbW92ZSgic2hvdyIpO2NvbnN0IGk9KCk9Pnt0aGlzLl9yZW1vdmVCYWNrZHJvcCgpLHQoKX07aWYoZSl7Y29uc3QgdD1uKHRoaXMuX2JhY2tkcm9wKTtOLm9uZSh0aGlzLl9iYWNrZHJvcCwidHJhbnNpdGlvbmVuZCIsaSksYSh0aGlzLl9iYWNrZHJvcCx0KX1lbHNlIGkoKX1lbHNlIHQoKX1faXNBbmltYXRlZCgpe3JldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZmFkZSIpfV90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uKCl7aWYoTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsImhpZGVQcmV2ZW50ZWQuYnMubW9kYWwiKS5kZWZhdWx0UHJldmVudGVkKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7dHx8KHRoaXMuX2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4iKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoIm1vZGFsLXN0YXRpYyIpO2NvbnN0IGU9bih0aGlzLl9kaWFsb2cpO04ub2ZmKHRoaXMuX2VsZW1lbnQsInRyYW5zaXRpb25lbmQiKSxOLm9uZSh0aGlzLl9lbGVtZW50LCJ0cmFuc2l0aW9uZW5kIiwoKT0+e3RoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgibW9kYWwtc3RhdGljIiksdHx8KE4ub25lKHRoaXMuX2VsZW1lbnQsInRyYW5zaXRpb25lbmQiLCgpPT57dGhpcy5fZWxlbWVudC5zdHlsZS5vdmVyZmxvd1k9IiJ9KSxhKHRoaXMuX2VsZW1lbnQsZSkpfSksYSh0aGlzLl9lbGVtZW50LGUpLHRoaXMuX2VsZW1lbnQuZm9jdXMoKX1fYWRqdXN0RGlhbG9nKCl7Y29uc3QgdD10aGlzLl9lbGVtZW50LnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OyghdGhpcy5faXNCb2R5T3ZlcmZsb3dpbmcmJnQmJiFnKCl8fHRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiYhdCYmZygpKSYmKHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQ9dGhpcy5fc2Nyb2xsYmFyV2lkdGgrInB4IiksKHRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiYhdCYmIWcoKXx8IXRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiZ0JiZnKCkpJiYodGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9dGhpcy5fc2Nyb2xsYmFyV2lkdGgrInB4Iil9X3Jlc2V0QWRqdXN0bWVudHMoKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0PSIiLHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0PSIifV9jaGVja1Njcm9sbGJhcigpe2NvbnN0IHQ9ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1NYXRoLnJvdW5kKHQubGVmdCt0LnJpZ2h0KTx3aW5kb3cuaW5uZXJXaWR0aCx0aGlzLl9zY3JvbGxiYXJXaWR0aD10aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpfV9zZXRTY3JvbGxiYXIoKXt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmKHRoaXMuX3NldEVsZW1lbnRBdHRyaWJ1dGVzKCIuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wIiwicGFkZGluZ1JpZ2h0Iix0PT50K3RoaXMuX3Njcm9sbGJhcldpZHRoKSx0aGlzLl9zZXRFbGVtZW50QXR0cmlidXRlcygiLnN0aWNreS10b3AiLCJtYXJnaW5SaWdodCIsdD0+dC10aGlzLl9zY3JvbGxiYXJXaWR0aCksdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXMoImJvZHkiLCJwYWRkaW5nUmlnaHQiLHQ9PnQrdGhpcy5fc2Nyb2xsYmFyV2lkdGgpKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoIm1vZGFsLW9wZW4iKX1fc2V0RWxlbWVudEF0dHJpYnV0ZXModCxlLGkpe0guZmluZCh0KS5mb3JFYWNoKHQ9PntpZih0IT09ZG9jdW1lbnQuYm9keSYmd2luZG93LmlubmVyV2lkdGg+dC5jbGllbnRXaWR0aCt0aGlzLl9zY3JvbGxiYXJXaWR0aClyZXR1cm47Y29uc3Qgcz10LnN0eWxlW2VdLG49d2luZG93LmdldENvbXB1dGVkU3R5bGUodClbZV07Qi5zZXREYXRhQXR0cmlidXRlKHQsZSxzKSx0LnN0eWxlW2VdPWkoTnVtYmVyLnBhcnNlRmxvYXQobikpKyJweCJ9KX1fcmVzZXRTY3JvbGxiYXIoKXt0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKCIuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wIiwicGFkZGluZ1JpZ2h0IiksdGhpcy5fcmVzZXRFbGVtZW50QXR0cmlidXRlcygiLnN0aWNreS10b3AiLCJtYXJnaW5SaWdodCIpLHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMoImJvZHkiLCJwYWRkaW5nUmlnaHQiKX1fcmVzZXRFbGVtZW50QXR0cmlidXRlcyh0LGUpe0guZmluZCh0KS5mb3JFYWNoKHQ9Pntjb25zdCBpPUIuZ2V0RGF0YUF0dHJpYnV0ZSh0LGUpO3ZvaWQgMD09PWkmJnQ9PT1kb2N1bWVudC5ib2R5P3Quc3R5bGVbZV09IiI6KEIucmVtb3ZlRGF0YUF0dHJpYnV0ZSh0LGUpLHQuc3R5bGVbZV09aSl9KX1fZ2V0U2Nyb2xsYmFyV2lkdGgoKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuY2xhc3NOYW1lPSJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTtjb25zdCBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgtdC5jbGllbnRXaWR0aDtyZXR1cm4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSxlfXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UodCxlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe2xldCBpPWIuZ2V0KHRoaXMsImJzLm1vZGFsIik7Y29uc3Qgcz17Li4uYmUsLi4uQi5nZXREYXRhQXR0cmlidXRlcyh0aGlzKSwuLi4ib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dDp7fX07aWYoaXx8KGk9bmV3IHllKHRoaXMscykpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYodm9pZCAwPT09aVt0XSl0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgIiR7dH0iYCk7aVt0XShlKX19KSl9fU4ub24oZG9jdW1lbnQsImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpIiwnW2RhdGEtYnMtdG9nZ2xlPSJtb2RhbCJdJywoZnVuY3Rpb24odCl7Y29uc3QgZT1zKHRoaXMpOyJBIiE9PXRoaXMudGFnTmFtZSYmIkFSRUEiIT09dGhpcy50YWdOYW1lfHx0LnByZXZlbnREZWZhdWx0KCksTi5vbmUoZSwic2hvdy5icy5tb2RhbCIsdD0+e3QuZGVmYXVsdFByZXZlbnRlZHx8Ti5vbmUoZSwiaGlkZGVuLmJzLm1vZGFsIiwoKT0+e2ModGhpcykmJnRoaXMuZm9jdXMoKX0pfSk7bGV0IGk9Yi5nZXQoZSwiYnMubW9kYWwiKTtpZighaSl7Y29uc3QgdD17Li4uQi5nZXREYXRhQXR0cmlidXRlcyhlKSwuLi5CLmdldERhdGFBdHRyaWJ1dGVzKHRoaXMpfTtpPW5ldyB5ZShlLHQpfWkudG9nZ2xlKHRoaXMpfSkpLG0oIm1vZGFsIix5ZSk7Y29uc3Qgd2U9KCk9Pntjb25zdCB0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtyZXR1cm4gTWF0aC5hYnMod2luZG93LmlubmVyV2lkdGgtdCl9LEVlPSh0LGUsaSk9Pntjb25zdCBzPXdlKCk7SC5maW5kKHQpLmZvckVhY2godD0+e2lmKHQhPT1kb2N1bWVudC5ib2R5JiZ3aW5kb3cuaW5uZXJXaWR0aD50LmNsaWVudFdpZHRoK3MpcmV0dXJuO2NvbnN0IG49dC5zdHlsZVtlXSxvPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpW2VdO0Iuc2V0RGF0YUF0dHJpYnV0ZSh0LGUsbiksdC5zdHlsZVtlXT1pKE51bWJlci5wYXJzZUZsb2F0KG8pKSsicHgifSl9LFRlPSh0LGUpPT57SC5maW5kKHQpLmZvckVhY2godD0+e2NvbnN0IGk9Qi5nZXREYXRhQXR0cmlidXRlKHQsZSk7dm9pZCAwPT09aSYmdD09PWRvY3VtZW50LmJvZHk/dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShlKTooQi5yZW1vdmVEYXRhQXR0cmlidXRlKHQsZSksdC5zdHlsZVtlXT1pKX0pfSxBZT17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsc2Nyb2xsOiExfSxMZT17YmFja2Ryb3A6ImJvb2xlYW4iLGtleWJvYXJkOiJib29sZWFuIixzY3JvbGw6ImJvb2xlYW4ifTtjbGFzcyBPZSBleHRlbmRzIGp7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX2lzU2hvd249ITEsdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKX1zdGF0aWMgZ2V0IERlZmF1bHQoKXtyZXR1cm4gQWV9c3RhdGljIGdldCBEQVRBX0tFWSgpe3JldHVybiJicy5vZmZjYW52YXMifXRvZ2dsZSh0KXtyZXR1cm4gdGhpcy5faXNTaG93bj90aGlzLmhpZGUoKTp0aGlzLnNob3codCl9c2hvdyh0KXt0aGlzLl9pc1Nob3dufHxOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwic2hvdy5icy5vZmZjYW52YXMiLHtyZWxhdGVkVGFyZ2V0OnR9KS5kZWZhdWx0UHJldmVudGVkfHwodGhpcy5faXNTaG93bj0hMCx0aGlzLl9lbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMuX2NvbmZpZy5iYWNrZHJvcCYmZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCJvZmZjYW52YXMtYmFja2Ryb3AiKSx0aGlzLl9jb25maWcuc2Nyb2xsfHwoKHQ9d2UoKSk9Pntkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLEVlKCIuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQiLCJwYWRkaW5nUmlnaHQiLGU9PmUrdCksRWUoIi5zdGlja3ktdG9wIiwibWFyZ2luUmlnaHQiLGU9PmUtdCksRWUoImJvZHkiLCJwYWRkaW5nUmlnaHQiLGU9PmUrdCl9KSgpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgib2ZmY2FudmFzLXRvZ2dsaW5nIiksdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtbW9kYWwiLCEwKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgicm9sZSIsImRpYWxvZyIpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgic2hvdyIpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoIm9mZmNhbnZhcy10b2dnbGluZyIpLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJzaG93bi5icy5vZmZjYW52YXMiLHtyZWxhdGVkVGFyZ2V0OnR9KSx0aGlzLl9lbmZvcmNlRm9jdXNPbkVsZW1lbnQodGhpcy5fZWxlbWVudCl9LG4odGhpcy5fZWxlbWVudCkpKX1oaWRlKCl7dGhpcy5faXNTaG93biYmKE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJoaWRlLmJzLm9mZmNhbnZhcyIpLmRlZmF1bHRQcmV2ZW50ZWR8fCh0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoIm9mZmNhbnZhcy10b2dnbGluZyIpLE4ub2ZmKGRvY3VtZW50LCJmb2N1c2luLmJzLm9mZmNhbnZhcyIpLHRoaXMuX2VsZW1lbnQuYmx1cigpLHRoaXMuX2lzU2hvd249ITEsdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJzaG93Iiksc2V0VGltZW91dCgoKT0+e3RoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsITApLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLW1vZGFsIiksdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoInJvbGUiKSx0aGlzLl9lbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5fY29uZmlnLmJhY2tkcm9wJiZkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoIm9mZmNhbnZhcy1iYWNrZHJvcCIpLHRoaXMuX2NvbmZpZy5zY3JvbGx8fChkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PSJhdXRvIixUZSgiLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkIiwicGFkZGluZ1JpZ2h0IiksVGUoIi5zdGlja3ktdG9wIiwibWFyZ2luUmlnaHQiKSxUZSgiYm9keSIsInBhZGRpbmdSaWdodCIpKSxOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZGVuLmJzLm9mZmNhbnZhcyIpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgib2ZmY2FudmFzLXRvZ2dsaW5nIil9LG4odGhpcy5fZWxlbWVudCkpKSl9X2dldENvbmZpZyh0KXtyZXR1cm4gdD17Li4uQWUsLi4uQi5nZXREYXRhQXR0cmlidXRlcyh0aGlzLl9lbGVtZW50KSwuLi4ib2JqZWN0Ij09dHlwZW9mIHQ/dDp7fX0sbCgib2ZmY2FudmFzIix0LExlKSx0fV9lbmZvcmNlRm9jdXNPbkVsZW1lbnQodCl7Ti5vZmYoZG9jdW1lbnQsImZvY3VzaW4uYnMub2ZmY2FudmFzIiksTi5vbihkb2N1bWVudCwiZm9jdXNpbi5icy5vZmZjYW52YXMiLGU9Pntkb2N1bWVudD09PWUudGFyZ2V0fHx0PT09ZS50YXJnZXR8fHQuY29udGFpbnMoZS50YXJnZXQpfHx0LmZvY3VzKCl9KSx0LmZvY3VzKCl9X2FkZEV2ZW50TGlzdGVuZXJzKCl7Ti5vbih0aGlzLl9lbGVtZW50LCJjbGljay5kaXNtaXNzLmJzLm9mZmNhbnZhcyIsJ1tkYXRhLWJzLWRpc21pc3M9Im9mZmNhbnZhcyJdJywoKT0+dGhpcy5oaWRlKCkpLE4ub24oZG9jdW1lbnQsImtleWRvd24iLHQ9Pnt0aGlzLl9jb25maWcua2V5Ym9hcmQmJiJFc2NhcGUiPT09dC5rZXkmJnRoaXMuaGlkZSgpfSksTi5vbihkb2N1bWVudCwiY2xpY2suYnMub2ZmY2FudmFzLmRhdGEtYXBpIix0PT57Y29uc3QgZT1ILmZpbmRPbmUoaSh0LnRhcmdldCkpO3RoaXMuX2VsZW1lbnQuY29udGFpbnModC50YXJnZXQpfHxlPT09dGhpcy5fZWxlbWVudHx8dGhpcy5oaWRlKCl9KX1zdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKHQpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7Y29uc3QgZT1iLmdldCh0aGlzLCJicy5vZmZjYW52YXMiKXx8bmV3IE9lKHRoaXMsIm9iamVjdCI9PXR5cGVvZiB0P3Q6e30pO2lmKCJzdHJpbmciPT10eXBlb2YgdCl7aWYodm9pZCAwPT09ZVt0XXx8dC5zdGFydHNXaXRoKCJfIil8fCJjb25zdHJ1Y3RvciI9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHt0fSJgKTtlW3RdKHRoaXMpfX0pKX19Ti5vbihkb2N1bWVudCwiY2xpY2suYnMub2ZmY2FudmFzLmRhdGEtYXBpIiwnW2RhdGEtYnMtdG9nZ2xlPSJvZmZjYW52YXMiXScsKGZ1bmN0aW9uKHQpe2NvbnN0IGU9cyh0aGlzKTtpZihbIkEiLCJBUkVBIl0uaW5jbHVkZXModGhpcy50YWdOYW1lKSYmdC5wcmV2ZW50RGVmYXVsdCgpLGQodGhpcykpcmV0dXJuO04ub25lKGUsImhpZGRlbi5icy5vZmZjYW52YXMiLCgpPT57Yyh0aGlzKSYmdGhpcy5mb2N1cygpfSk7Y29uc3QgaT1ILmZpbmRPbmUoIi5vZmZjYW52YXMuc2hvdywgLm9mZmNhbnZhcy10b2dnbGluZyIpO2kmJmkhPT1lfHwoYi5nZXQoZSwiYnMub2ZmY2FudmFzIil8fG5ldyBPZShlKSkudG9nZ2xlKHRoaXMpfSkpLE4ub24od2luZG93LCJsb2FkLmJzLm9mZmNhbnZhcy5kYXRhLWFwaSIsKCk9PntILmZpbmQoIi5vZmZjYW52YXMuc2hvdyIpLmZvckVhY2godD0+KGIuZ2V0KHQsImJzLm9mZmNhbnZhcyIpfHxuZXcgT2UodCkpLnNob3coKSl9KSxtKCJvZmZjYW52YXMiLE9lKTtjb25zdCBrZT1uZXcgU2V0KFsiYmFja2dyb3VuZCIsImNpdGUiLCJocmVmIiwiaXRlbXR5cGUiLCJsb25nZGVzYyIsInBvc3RlciIsInNyYyIsInhsaW5rOmhyZWYiXSksRGU9L14oPzooPzpodHRwcz98bWFpbHRvfGZ0cHx0ZWx8ZmlsZSk6fFteIyYvOj9dKig/OlsjLz9dfCQpKS9pLHhlPS9eZGF0YTooPzppbWFnZVwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1wvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFtcZCsvYS16XSs9KiQvaSxDZT0odCxlKT0+e2NvbnN0IGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGUuaW5jbHVkZXMoaSkpcmV0dXJuIWtlLmhhcyhpKXx8Qm9vbGVhbihEZS50ZXN0KHQubm9kZVZhbHVlKXx8eGUudGVzdCh0Lm5vZGVWYWx1ZSkpO2NvbnN0IHM9ZS5maWx0ZXIodD0+dCBpbnN0YW5jZW9mIFJlZ0V4cCk7Zm9yKGxldCB0PTAsZT1zLmxlbmd0aDt0PGU7dCsrKWlmKHNbdF0udGVzdChpKSlyZXR1cm4hMDtyZXR1cm4hMX07ZnVuY3Rpb24gU2UodCxlLGkpe2lmKCF0Lmxlbmd0aClyZXR1cm4gdDtpZihpJiYiZnVuY3Rpb24iPT10eXBlb2YgaSlyZXR1cm4gaSh0KTtjb25zdCBzPShuZXcgd2luZG93LkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQvaHRtbCIpLG49T2JqZWN0LmtleXMoZSksbz1bXS5jb25jYXQoLi4ucy5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoIioiKSk7Zm9yKGxldCB0PTAsaT1vLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBpPW9bdF0scz1pLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIW4uaW5jbHVkZXMocykpe2kucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTtjb250aW51ZX1jb25zdCByPVtdLmNvbmNhdCguLi5pLmF0dHJpYnV0ZXMpLGE9W10uY29uY2F0KGVbIioiXXx8W10sZVtzXXx8W10pO3IuZm9yRWFjaCh0PT57Q2UodCxhKXx8aS5yZW1vdmVBdHRyaWJ1dGUodC5ub2RlTmFtZSl9KX1yZXR1cm4gcy5ib2R5LmlubmVySFRNTH1jb25zdCBOZT1uZXcgUmVnRXhwKCIoXnxcXHMpYnMtdG9vbHRpcFxcUysiLCJnIiksamU9bmV3IFNldChbInNhbml0aXplIiwiYWxsb3dMaXN0Iiwic2FuaXRpemVGbiJdKSxQZT17YW5pbWF0aW9uOiJib29sZWFuIix0ZW1wbGF0ZToic3RyaW5nIix0aXRsZToiKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKSIsdHJpZ2dlcjoic3RyaW5nIixkZWxheToiKG51bWJlcnxvYmplY3QpIixodG1sOiJib29sZWFuIixzZWxlY3RvcjoiKHN0cmluZ3xib29sZWFuKSIscGxhY2VtZW50OiIoc3RyaW5nfGZ1bmN0aW9uKSIsb2Zmc2V0OiIoYXJyYXl8c3RyaW5nfGZ1bmN0aW9uKSIsY29udGFpbmVyOiIoc3RyaW5nfGVsZW1lbnR8Ym9vbGVhbikiLGZhbGxiYWNrUGxhY2VtZW50czoiYXJyYXkiLGJvdW5kYXJ5OiIoc3RyaW5nfGVsZW1lbnQpIixjdXN0b21DbGFzczoiKHN0cmluZ3xmdW5jdGlvbikiLHNhbml0aXplOiJib29sZWFuIixzYW5pdGl6ZUZuOiIobnVsbHxmdW5jdGlvbikiLGFsbG93TGlzdDoib2JqZWN0Iixwb3BwZXJDb25maWc6IihudWxsfG9iamVjdHxmdW5jdGlvbikifSxJZT17QVVUTzoiYXV0byIsVE9QOiJ0b3AiLFJJR0hUOmcoKT8ibGVmdCI6InJpZ2h0IixCT1RUT006ImJvdHRvbSIsTEVGVDpnKCk/InJpZ2h0IjoibGVmdCJ9LE1lPXthbmltYXRpb246ITAsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjwvZGl2PjwvZGl2PicsdHJpZ2dlcjoiaG92ZXIgZm9jdXMiLHRpdGxlOiIiLGRlbGF5OjAsaHRtbDohMSxzZWxlY3RvcjohMSxwbGFjZW1lbnQ6InRvcCIsb2Zmc2V0OlswLDBdLGNvbnRhaW5lcjohMSxmYWxsYmFja1BsYWNlbWVudHM6WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXSxib3VuZGFyeToiY2xpcHBpbmdQYXJlbnRzIixjdXN0b21DbGFzczoiIixzYW5pdGl6ZTohMCxzYW5pdGl6ZUZuOm51bGwsYWxsb3dMaXN0OnsiKiI6WyJjbGFzcyIsImRpciIsImlkIiwibGFuZyIsInJvbGUiLC9eYXJpYS1bXHctXSokL2ldLGE6WyJ0YXJnZXQiLCJocmVmIiwidGl0bGUiLCJyZWwiXSxhcmVhOltdLGI6W10sYnI6W10sY29sOltdLGNvZGU6W10sZGl2OltdLGVtOltdLGhyOltdLGgxOltdLGgyOltdLGgzOltdLGg0OltdLGg1OltdLGg2OltdLGk6W10saW1nOlsic3JjIiwic3Jjc2V0IiwiYWx0IiwidGl0bGUiLCJ3aWR0aCIsImhlaWdodCJdLGxpOltdLG9sOltdLHA6W10scHJlOltdLHM6W10sc21hbGw6W10sc3BhbjpbXSxzdWI6W10sc3VwOltdLHN0cm9uZzpbXSx1OltdLHVsOltdfSxwb3BwZXJDb25maWc6bnVsbH0sUmU9e0hJREU6ImhpZGUuYnMudG9vbHRpcCIsSElEREVOOiJoaWRkZW4uYnMudG9vbHRpcCIsU0hPVzoic2hvdy5icy50b29sdGlwIixTSE9XTjoic2hvd24uYnMudG9vbHRpcCIsSU5TRVJURUQ6Imluc2VydGVkLmJzLnRvb2x0aXAiLENMSUNLOiJjbGljay5icy50b29sdGlwIixGT0NVU0lOOiJmb2N1c2luLmJzLnRvb2x0aXAiLEZPQ1VTT1VUOiJmb2N1c291dC5icy50b29sdGlwIixNT1VTRUVOVEVSOiJtb3VzZWVudGVyLmJzLnRvb2x0aXAiLE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUuYnMudG9vbHRpcCJ9O2NsYXNzIEJlIGV4dGVuZHMgantjb25zdHJ1Y3Rvcih0LGUpe2lmKHZvaWQgMD09PWFlKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvb3RzdHJhcCdzIHRvb2x0aXBzIHJlcXVpcmUgUG9wcGVyIChodHRwczovL3BvcHBlci5qcy5vcmcpIik7c3VwZXIodCksdGhpcy5faXNFbmFibGVkPSEwLHRoaXMuX3RpbWVvdXQ9MCx0aGlzLl9ob3ZlclN0YXRlPSIiLHRoaXMuX2FjdGl2ZVRyaWdnZXI9e30sdGhpcy5fcG9wcGVyPW51bGwsdGhpcy5jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMudGlwPW51bGwsdGhpcy5fc2V0TGlzdGVuZXJzKCl9c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIE1lfXN0YXRpYyBnZXQgTkFNRSgpe3JldHVybiJ0b29sdGlwIn1zdGF0aWMgZ2V0IERBVEFfS0VZKCl7cmV0dXJuImJzLnRvb2x0aXAifXN0YXRpYyBnZXQgRXZlbnQoKXtyZXR1cm4gUmV9c3RhdGljIGdldCBFVkVOVF9LRVkoKXtyZXR1cm4iLmJzLnRvb2x0aXAifXN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKXtyZXR1cm4gUGV9ZW5hYmxlKCl7dGhpcy5faXNFbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9pc0VuYWJsZWQ9ITF9dG9nZ2xlRW5hYmxlZCgpe3RoaXMuX2lzRW5hYmxlZD0hdGhpcy5faXNFbmFibGVkfXRvZ2dsZSh0KXtpZih0aGlzLl9pc0VuYWJsZWQpaWYodCl7Y29uc3QgZT10aGlzLl9pbml0aWFsaXplT25EZWxlZ2F0ZWRUYXJnZXQodCk7ZS5fYWN0aXZlVHJpZ2dlci5jbGljaz0hZS5fYWN0aXZlVHJpZ2dlci5jbGljayxlLl9pc1dpdGhBY3RpdmVUcmlnZ2VyKCk/ZS5fZW50ZXIobnVsbCxlKTplLl9sZWF2ZShudWxsLGUpfWVsc2V7aWYodGhpcy5nZXRUaXBFbGVtZW50KCkuY2xhc3NMaXN0LmNvbnRhaW5zKCJzaG93IikpcmV0dXJuIHZvaWQgdGhpcy5fbGVhdmUobnVsbCx0aGlzKTt0aGlzLl9lbnRlcihudWxsLHRoaXMpfX1kaXNwb3NlKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLE4ub2ZmKHRoaXMuX2VsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5FVkVOVF9LRVkpLE4ub2ZmKHRoaXMuX2VsZW1lbnQuY2xvc2VzdCgiLm1vZGFsIiksImhpZGUuYnMubW9kYWwiLHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIpLHRoaXMudGlwJiZ0aGlzLnRpcC5wYXJlbnROb2RlJiZ0aGlzLnRpcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudGlwKSx0aGlzLl9pc0VuYWJsZWQ9bnVsbCx0aGlzLl90aW1lb3V0PW51bGwsdGhpcy5faG92ZXJTdGF0ZT1udWxsLHRoaXMuX2FjdGl2ZVRyaWdnZXI9bnVsbCx0aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5kZXN0cm95KCksdGhpcy5fcG9wcGVyPW51bGwsdGhpcy5jb25maWc9bnVsbCx0aGlzLnRpcD1udWxsLHN1cGVyLmRpc3Bvc2UoKX1zaG93KCl7aWYoIm5vbmUiPT09dGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5KXRocm93IG5ldyBFcnJvcigiUGxlYXNlIHVzZSBzaG93IG9uIHZpc2libGUgZWxlbWVudHMiKTtpZighdGhpcy5pc1dpdGhDb250ZW50KCl8fCF0aGlzLl9pc0VuYWJsZWQpcmV0dXJuO2NvbnN0IGU9Ti50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XKSxpPWgodGhpcy5fZWxlbWVudCkscz1udWxsPT09aT90aGlzLl9lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKHRoaXMuX2VsZW1lbnQpOmkuY29udGFpbnModGhpcy5fZWxlbWVudCk7aWYoZS5kZWZhdWx0UHJldmVudGVkfHwhcylyZXR1cm47Y29uc3Qgbz10aGlzLmdldFRpcEVsZW1lbnQoKSxyPXQodGhpcy5jb25zdHJ1Y3Rvci5OQU1FKTtvLnNldEF0dHJpYnV0ZSgiaWQiLHIpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWRlc2NyaWJlZGJ5IixyKSx0aGlzLnNldENvbnRlbnQoKSx0aGlzLmNvbmZpZy5hbmltYXRpb24mJm8uY2xhc3NMaXN0LmFkZCgiZmFkZSIpO2NvbnN0IGw9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29uZmlnLnBsYWNlbWVudD90aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLG8sdGhpcy5fZWxlbWVudCk6dGhpcy5jb25maWcucGxhY2VtZW50LGM9dGhpcy5fZ2V0QXR0YWNobWVudChsKTt0aGlzLl9hZGRBdHRhY2htZW50Q2xhc3MoYyk7Y29uc3QgZD10aGlzLl9nZXRDb250YWluZXIoKTtiLnNldChvLHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksdGhpcyksdGhpcy5fZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyh0aGlzLnRpcCl8fChkLmFwcGVuZENoaWxkKG8pLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSU5TRVJURUQpKSx0aGlzLl9wb3BwZXI/dGhpcy5fcG9wcGVyLnVwZGF0ZSgpOnRoaXMuX3BvcHBlcj1yZSh0aGlzLl9lbGVtZW50LG8sdGhpcy5fZ2V0UG9wcGVyQ29uZmlnKGMpKSxvLmNsYXNzTGlzdC5hZGQoInNob3ciKTtjb25zdCBmPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbmZpZy5jdXN0b21DbGFzcz90aGlzLmNvbmZpZy5jdXN0b21DbGFzcygpOnRoaXMuY29uZmlnLmN1c3RvbUNsYXNzO2YmJm8uY2xhc3NMaXN0LmFkZCguLi5mLnNwbGl0KCIgIikpLCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikuZm9yRWFjaCh0PT57Ti5vbih0LCJtb3VzZW92ZXIiLChmdW5jdGlvbigpe30pKX0pO2NvbnN0IHU9KCk9Pntjb25zdCB0PXRoaXMuX2hvdmVyU3RhdGU7dGhpcy5faG92ZXJTdGF0ZT1udWxsLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPV04pLCJvdXQiPT09dCYmdGhpcy5fbGVhdmUobnVsbCx0aGlzKX07aWYodGhpcy50aXAuY2xhc3NMaXN0LmNvbnRhaW5zKCJmYWRlIikpe2NvbnN0IHQ9bih0aGlzLnRpcCk7Ti5vbmUodGhpcy50aXAsInRyYW5zaXRpb25lbmQiLHUpLGEodGhpcy50aXAsdCl9ZWxzZSB1KCl9aGlkZSgpe2lmKCF0aGlzLl9wb3BwZXIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRUaXBFbGVtZW50KCksZT0oKT0+e3RoaXMuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKXx8KCJzaG93IiE9PXRoaXMuX2hvdmVyU3RhdGUmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHRoaXMuX2NsZWFuVGlwQ2xhc3MoKSx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIpLE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSElEREVOKSx0aGlzLl9wb3BwZXImJih0aGlzLl9wb3BwZXIuZGVzdHJveSgpLHRoaXMuX3BvcHBlcj1udWxsKSl9O2lmKCFOLnRyaWdnZXIodGhpcy5fZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LkhJREUpLmRlZmF1bHRQcmV2ZW50ZWQpe2lmKHQuY2xhc3NMaXN0LnJlbW92ZSgic2hvdyIpLCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikuZm9yRWFjaCh0PT5OLm9mZih0LCJtb3VzZW92ZXIiLGYpKSx0aGlzLl9hY3RpdmVUcmlnZ2VyLmNsaWNrPSExLHRoaXMuX2FjdGl2ZVRyaWdnZXIuZm9jdXM9ITEsdGhpcy5fYWN0aXZlVHJpZ2dlci5ob3Zlcj0hMSx0aGlzLnRpcC5jbGFzc0xpc3QuY29udGFpbnMoImZhZGUiKSl7Y29uc3QgaT1uKHQpO04ub25lKHQsInRyYW5zaXRpb25lbmQiLGUpLGEodCxpKX1lbHNlIGUoKTt0aGlzLl9ob3ZlclN0YXRlPSIifX11cGRhdGUoKXtudWxsIT09dGhpcy5fcG9wcGVyJiZ0aGlzLl9wb3BwZXIudXBkYXRlKCl9aXNXaXRoQ29udGVudCgpe3JldHVybiBCb29sZWFuKHRoaXMuZ2V0VGl0bGUoKSl9Z2V0VGlwRWxlbWVudCgpe2lmKHRoaXMudGlwKXJldHVybiB0aGlzLnRpcDtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB0LmlubmVySFRNTD10aGlzLmNvbmZpZy50ZW1wbGF0ZSx0aGlzLnRpcD10LmNoaWxkcmVuWzBdLHRoaXMudGlwfXNldENvbnRlbnQoKXtjb25zdCB0PXRoaXMuZ2V0VGlwRWxlbWVudCgpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQoSC5maW5kT25lKCIudG9vbHRpcC1pbm5lciIsdCksdGhpcy5nZXRUaXRsZSgpKSx0LmNsYXNzTGlzdC5yZW1vdmUoImZhZGUiLCJzaG93Iil9c2V0RWxlbWVudENvbnRlbnQodCxlKXtpZihudWxsIT09dClyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJnIoZSk/KGUuanF1ZXJ5JiYoZT1lWzBdKSx2b2lkKHRoaXMuY29uZmlnLmh0bWw/ZS5wYXJlbnROb2RlIT09dCYmKHQuaW5uZXJIVE1MPSIiLHQuYXBwZW5kQ2hpbGQoZSkpOnQudGV4dENvbnRlbnQ9ZS50ZXh0Q29udGVudCkpOnZvaWQodGhpcy5jb25maWcuaHRtbD8odGhpcy5jb25maWcuc2FuaXRpemUmJihlPVNlKGUsdGhpcy5jb25maWcuYWxsb3dMaXN0LHRoaXMuY29uZmlnLnNhbml0aXplRm4pKSx0LmlubmVySFRNTD1lKTp0LnRleHRDb250ZW50PWUpfWdldFRpdGxlKCl7bGV0IHQ9dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtYnMtb3JpZ2luYWwtdGl0bGUiKTtyZXR1cm4gdHx8KHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29uZmlnLnRpdGxlP3RoaXMuY29uZmlnLnRpdGxlLmNhbGwodGhpcy5fZWxlbWVudCk6dGhpcy5jb25maWcudGl0bGUpLHR9dXBkYXRlQXR0YWNobWVudCh0KXtyZXR1cm4icmlnaHQiPT09dD8iZW5kIjoibGVmdCI9PT10PyJzdGFydCI6dH1faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KHQsZSl7Y29uc3QgaT10aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO3JldHVybihlPWV8fGIuZ2V0KHQuZGVsZWdhdGVUYXJnZXQsaSkpfHwoZT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LmRlbGVnYXRlVGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLGIuc2V0KHQuZGVsZWdhdGVUYXJnZXQsaSxlKSksZX1fZ2V0T2Zmc2V0KCl7Y29uc3R7b2Zmc2V0OnR9PXRoaXMuY29uZmlnO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIsIikubWFwKHQ9Pk51bWJlci5wYXJzZUludCh0LDEwKSk6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZT0+dChlLHRoaXMuX2VsZW1lbnQpOnR9X2dldFBvcHBlckNvbmZpZyh0KXtjb25zdCBlPXtwbGFjZW1lbnQ6dCxtb2RpZmllcnM6W3tuYW1lOiJmbGlwIixvcHRpb25zOnthbHRCb3VuZGFyeTohMCxmYWxsYmFja1BsYWNlbWVudHM6dGhpcy5jb25maWcuZmFsbGJhY2tQbGFjZW1lbnRzfX0se25hbWU6Im9mZnNldCIsb3B0aW9uczp7b2Zmc2V0OnRoaXMuX2dldE9mZnNldCgpfX0se25hbWU6InByZXZlbnRPdmVyZmxvdyIsb3B0aW9uczp7Ym91bmRhcnk6dGhpcy5jb25maWcuYm91bmRhcnl9fSx7bmFtZToiYXJyb3ciLG9wdGlvbnM6e2VsZW1lbnQ6YC4ke3RoaXMuY29uc3RydWN0b3IuTkFNRX0tYXJyb3dgfX0se25hbWU6Im9uQ2hhbmdlIixlbmFibGVkOiEwLHBoYXNlOiJhZnRlcldyaXRlIixmbjp0PT50aGlzLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UodCl9XSxvbkZpcnN0VXBkYXRlOnQ9Pnt0Lm9wdGlvbnMucGxhY2VtZW50IT09dC5wbGFjZW1lbnQmJnRoaXMuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSh0KX19O3JldHVybnsuLi5lLC4uLiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbmZpZy5wb3BwZXJDb25maWc/dGhpcy5jb25maWcucG9wcGVyQ29uZmlnKGUpOnRoaXMuY29uZmlnLnBvcHBlckNvbmZpZ319X2FkZEF0dGFjaG1lbnRDbGFzcyh0KXt0aGlzLmdldFRpcEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKCJicy10b29sdGlwLSIrdGhpcy51cGRhdGVBdHRhY2htZW50KHQpKX1fZ2V0Q29udGFpbmVyKCl7cmV0dXJuITE9PT10aGlzLmNvbmZpZy5jb250YWluZXI/ZG9jdW1lbnQuYm9keTpyKHRoaXMuY29uZmlnLmNvbnRhaW5lcik/dGhpcy5jb25maWcuY29udGFpbmVyOkguZmluZE9uZSh0aGlzLmNvbmZpZy5jb250YWluZXIpfV9nZXRBdHRhY2htZW50KHQpe3JldHVybiBJZVt0LnRvVXBwZXJDYXNlKCldfV9zZXRMaXN0ZW5lcnMoKXt0aGlzLmNvbmZpZy50cmlnZ2VyLnNwbGl0KCIgIikuZm9yRWFjaCh0PT57aWYoImNsaWNrIj09PXQpTi5vbih0aGlzLl9lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuRXZlbnQuQ0xJQ0ssdGhpcy5jb25maWcuc2VsZWN0b3IsdD0+dGhpcy50b2dnbGUodCkpO2Vsc2UgaWYoIm1hbnVhbCIhPT10KXtjb25zdCBlPSJob3ZlciI9PT10P3RoaXMuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUjp0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTSU4saT0iaG92ZXIiPT09dD90aGlzLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFTEVBVkU6dGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDtOLm9uKHRoaXMuX2VsZW1lbnQsZSx0aGlzLmNvbmZpZy5zZWxlY3Rvcix0PT50aGlzLl9lbnRlcih0KSksTi5vbih0aGlzLl9lbGVtZW50LGksdGhpcy5jb25maWcuc2VsZWN0b3IsdD0+dGhpcy5fbGVhdmUodCkpfX0pLHRoaXMuX2hpZGVNb2RhbEhhbmRsZXI9KCk9Pnt0aGlzLl9lbGVtZW50JiZ0aGlzLmhpZGUoKX0sTi5vbih0aGlzLl9lbGVtZW50LmNsb3Nlc3QoIi5tb2RhbCIpLCJoaWRlLmJzLm1vZGFsIix0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKSx0aGlzLmNvbmZpZy5zZWxlY3Rvcj90aGlzLmNvbmZpZz17Li4udGhpcy5jb25maWcsdHJpZ2dlcjoibWFudWFsIixzZWxlY3RvcjoiIn06dGhpcy5fZml4VGl0bGUoKX1fZml4VGl0bGUoKXtjb25zdCB0PXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpLGU9dHlwZW9mIHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWJzLW9yaWdpbmFsLXRpdGxlIik7KHR8fCJzdHJpbmciIT09ZSkmJih0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1icy1vcmlnaW5hbC10aXRsZSIsdHx8IiIpLCF0fHx0aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIpfHx0aGlzLl9lbGVtZW50LnRleHRDb250ZW50fHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsdCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiIikpfV9lbnRlcih0LGUpe2U9dGhpcy5faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KHQsZSksdCYmKGUuX2FjdGl2ZVRyaWdnZXJbImZvY3VzaW4iPT09dC50eXBlPyJmb2N1cyI6ImhvdmVyIl09ITApLGUuZ2V0VGlwRWxlbWVudCgpLmNsYXNzTGlzdC5jb250YWlucygic2hvdyIpfHwic2hvdyI9PT1lLl9ob3ZlclN0YXRlP2UuX2hvdmVyU3RhdGU9InNob3ciOihjbGVhclRpbWVvdXQoZS5fdGltZW91dCksZS5faG92ZXJTdGF0ZT0ic2hvdyIsZS5jb25maWcuZGVsYXkmJmUuY29uZmlnLmRlbGF5LnNob3c/ZS5fdGltZW91dD1zZXRUaW1lb3V0KCgpPT57InNob3ciPT09ZS5faG92ZXJTdGF0ZSYmZS5zaG93KCl9LGUuY29uZmlnLmRlbGF5LnNob3cpOmUuc2hvdygpKX1fbGVhdmUodCxlKXtlPXRoaXMuX2luaXRpYWxpemVPbkRlbGVnYXRlZFRhcmdldCh0LGUpLHQmJihlLl9hY3RpdmVUcmlnZ2VyWyJmb2N1c291dCI9PT10LnR5cGU/ImZvY3VzIjoiaG92ZXIiXT1lLl9lbGVtZW50LmNvbnRhaW5zKHQucmVsYXRlZFRhcmdldCkpLGUuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKXx8KGNsZWFyVGltZW91dChlLl90aW1lb3V0KSxlLl9ob3ZlclN0YXRlPSJvdXQiLGUuY29uZmlnLmRlbGF5JiZlLmNvbmZpZy5kZWxheS5oaWRlP2UuX3RpbWVvdXQ9c2V0VGltZW91dCgoKT0+eyJvdXQiPT09ZS5faG92ZXJTdGF0ZSYmZS5oaWRlKCl9LGUuY29uZmlnLmRlbGF5LmhpZGUpOmUuaGlkZSgpKX1faXNXaXRoQWN0aXZlVHJpZ2dlcigpe2Zvcihjb25zdCB0IGluIHRoaXMuX2FjdGl2ZVRyaWdnZXIpaWYodGhpcy5fYWN0aXZlVHJpZ2dlclt0XSlyZXR1cm4hMDtyZXR1cm4hMX1fZ2V0Q29uZmlnKHQpe2NvbnN0IGU9Qi5nZXREYXRhQXR0cmlidXRlcyh0aGlzLl9lbGVtZW50KTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCh0PT57amUuaGFzKHQpJiZkZWxldGUgZVt0XX0pLHQmJiJvYmplY3QiPT10eXBlb2YgdC5jb250YWluZXImJnQuY29udGFpbmVyLmpxdWVyeSYmKHQuY29udGFpbmVyPXQuY29udGFpbmVyWzBdKSwibnVtYmVyIj09dHlwZW9mKHQ9ey4uLnRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCwuLi5lLC4uLiJvYmplY3QiPT10eXBlb2YgdCYmdD90Ont9fSkuZGVsYXkmJih0LmRlbGF5PXtzaG93OnQuZGVsYXksaGlkZTp0LmRlbGF5fSksIm51bWJlciI9PXR5cGVvZiB0LnRpdGxlJiYodC50aXRsZT10LnRpdGxlLnRvU3RyaW5nKCkpLCJudW1iZXIiPT10eXBlb2YgdC5jb250ZW50JiYodC5jb250ZW50PXQuY29udGVudC50b1N0cmluZygpKSxsKCJ0b29sdGlwIix0LHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpLHQuc2FuaXRpemUmJih0LnRlbXBsYXRlPVNlKHQudGVtcGxhdGUsdC5hbGxvd0xpc3QsdC5zYW5pdGl6ZUZuKSksdH1fZ2V0RGVsZWdhdGVDb25maWcoKXtjb25zdCB0PXt9O2lmKHRoaXMuY29uZmlnKWZvcihjb25zdCBlIGluIHRoaXMuY29uZmlnKXRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFtlXSE9PXRoaXMuY29uZmlnW2VdJiYodFtlXT10aGlzLmNvbmZpZ1tlXSk7cmV0dXJuIHR9X2NsZWFuVGlwQ2xhc3MoKXtjb25zdCB0PXRoaXMuZ2V0VGlwRWxlbWVudCgpLGU9dC5nZXRBdHRyaWJ1dGUoImNsYXNzIikubWF0Y2goTmUpO251bGwhPT1lJiZlLmxlbmd0aD4wJiZlLm1hcCh0PT50LnRyaW0oKSkuZm9yRWFjaChlPT50LmNsYXNzTGlzdC5yZW1vdmUoZSkpfV9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UodCl7Y29uc3R7c3RhdGU6ZX09dDtlJiYodGhpcy50aXA9ZS5lbGVtZW50cy5wb3BwZXIsdGhpcy5fY2xlYW5UaXBDbGFzcygpLHRoaXMuX2FkZEF0dGFjaG1lbnRDbGFzcyh0aGlzLl9nZXRBdHRhY2htZW50KGUucGxhY2VtZW50KSkpfXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UodCl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtsZXQgZT1iLmdldCh0aGlzLCJicy50b29sdGlwIik7Y29uc3QgaT0ib2JqZWN0Ij09dHlwZW9mIHQmJnQ7aWYoKGV8fCEvZGlzcG9zZXxoaWRlLy50ZXN0KHQpKSYmKGV8fChlPW5ldyBCZSh0aGlzLGkpKSwic3RyaW5nIj09dHlwZW9mIHQpKXtpZih2b2lkIDA9PT1lW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHt0fSJgKTtlW3RdKCl9fSkpfX1tKCJ0b29sdGlwIixCZSk7Y29uc3QgSGU9bmV3IFJlZ0V4cCgiKF58XFxzKWJzLXBvcG92ZXJcXFMrIiwiZyIpLFdlPXsuLi5CZS5EZWZhdWx0LHBsYWNlbWVudDoicmlnaHQiLG9mZnNldDpbMCw4XSx0cmlnZ2VyOiJjbGljayIsY29udGVudDoiIix0ZW1wbGF0ZTonPGRpdiBjbGFzcz0icG9wb3ZlciIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0icG9wb3Zlci1hcnJvdyI+PC9kaXY+PGgzIGNsYXNzPSJwb3BvdmVyLWhlYWRlciI+PC9oMz48ZGl2IGNsYXNzPSJwb3BvdmVyLWJvZHkiPjwvZGl2PjwvZGl2Pid9LFVlPXsuLi5CZS5EZWZhdWx0VHlwZSxjb250ZW50OiIoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pIn0sJGU9e0hJREU6ImhpZGUuYnMucG9wb3ZlciIsSElEREVOOiJoaWRkZW4uYnMucG9wb3ZlciIsU0hPVzoic2hvdy5icy5wb3BvdmVyIixTSE9XTjoic2hvd24uYnMucG9wb3ZlciIsSU5TRVJURUQ6Imluc2VydGVkLmJzLnBvcG92ZXIiLENMSUNLOiJjbGljay5icy5wb3BvdmVyIixGT0NVU0lOOiJmb2N1c2luLmJzLnBvcG92ZXIiLEZPQ1VTT1VUOiJmb2N1c291dC5icy5wb3BvdmVyIixNT1VTRUVOVEVSOiJtb3VzZWVudGVyLmJzLnBvcG92ZXIiLE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUuYnMucG9wb3ZlciJ9O2NsYXNzIEZlIGV4dGVuZHMgQmV7c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIFdlfXN0YXRpYyBnZXQgTkFNRSgpe3JldHVybiJwb3BvdmVyIn1zdGF0aWMgZ2V0IERBVEFfS0VZKCl7cmV0dXJuImJzLnBvcG92ZXIifXN0YXRpYyBnZXQgRXZlbnQoKXtyZXR1cm4gJGV9c3RhdGljIGdldCBFVkVOVF9LRVkoKXtyZXR1cm4iLmJzLnBvcG92ZXIifXN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKXtyZXR1cm4gVWV9aXNXaXRoQ29udGVudCgpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuX2dldENvbnRlbnQoKX1zZXRDb250ZW50KCl7Y29uc3QgdD10aGlzLmdldFRpcEVsZW1lbnQoKTt0aGlzLnNldEVsZW1lbnRDb250ZW50KEguZmluZE9uZSgiLnBvcG92ZXItaGVhZGVyIix0KSx0aGlzLmdldFRpdGxlKCkpO2xldCBlPXRoaXMuX2dldENvbnRlbnQoKTsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9ZS5jYWxsKHRoaXMuX2VsZW1lbnQpKSx0aGlzLnNldEVsZW1lbnRDb250ZW50KEguZmluZE9uZSgiLnBvcG92ZXItYm9keSIsdCksZSksdC5jbGFzc0xpc3QucmVtb3ZlKCJmYWRlIiwic2hvdyIpfV9hZGRBdHRhY2htZW50Q2xhc3ModCl7dGhpcy5nZXRUaXBFbGVtZW50KCkuY2xhc3NMaXN0LmFkZCgiYnMtcG9wb3Zlci0iK3RoaXMudXBkYXRlQXR0YWNobWVudCh0KSl9X2dldENvbnRlbnQoKXtyZXR1cm4gdGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtYnMtY29udGVudCIpfHx0aGlzLmNvbmZpZy5jb250ZW50fV9jbGVhblRpcENsYXNzKCl7Y29uc3QgdD10aGlzLmdldFRpcEVsZW1lbnQoKSxlPXQuZ2V0QXR0cmlidXRlKCJjbGFzcyIpLm1hdGNoKEhlKTtudWxsIT09ZSYmZS5sZW5ndGg+MCYmZS5tYXAodD0+dC50cmltKCkpLmZvckVhY2goZT0+dC5jbGFzc0xpc3QucmVtb3ZlKGUpKX1zdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKHQpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7bGV0IGU9Yi5nZXQodGhpcywiYnMucG9wb3ZlciIpO2NvbnN0IGk9Im9iamVjdCI9PXR5cGVvZiB0P3Q6bnVsbDtpZigoZXx8IS9kaXNwb3NlfGhpZGUvLnRlc3QodCkpJiYoZXx8KGU9bmV3IEZlKHRoaXMsaSksYi5zZXQodGhpcywiYnMucG9wb3ZlciIsZSkpLCJzdHJpbmciPT10eXBlb2YgdCkpe2lmKHZvaWQgMD09PWVbdF0pdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkICIke3R9ImApO2VbdF0oKX19KSl9fW0oInBvcG92ZXIiLEZlKTtjb25zdCB6ZT17b2Zmc2V0OjEwLG1ldGhvZDoiYXV0byIsdGFyZ2V0OiIifSxLZT17b2Zmc2V0OiJudW1iZXIiLG1ldGhvZDoic3RyaW5nIix0YXJnZXQ6IihzdHJpbmd8ZWxlbWVudCkifTtjbGFzcyBZZSBleHRlbmRzIGp7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9zY3JvbGxFbGVtZW50PSJCT0RZIj09PXRoaXMuX2VsZW1lbnQudGFnTmFtZT93aW5kb3c6dGhpcy5fZWxlbWVudCx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX3NlbGVjdG9yPWAke3RoaXMuX2NvbmZpZy50YXJnZXR9IC5uYXYtbGluaywgJHt0aGlzLl9jb25maWcudGFyZ2V0fSAubGlzdC1ncm91cC1pdGVtLCAke3RoaXMuX2NvbmZpZy50YXJnZXR9IC5kcm9wZG93bi1pdGVtYCx0aGlzLl9vZmZzZXRzPVtdLHRoaXMuX3RhcmdldHM9W10sdGhpcy5fYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5fc2Nyb2xsSGVpZ2h0PTAsTi5vbih0aGlzLl9zY3JvbGxFbGVtZW50LCJzY3JvbGwuYnMuc2Nyb2xsc3B5IiwoKT0+dGhpcy5fcHJvY2VzcygpKSx0aGlzLnJlZnJlc2goKSx0aGlzLl9wcm9jZXNzKCl9c3RhdGljIGdldCBEZWZhdWx0KCl7cmV0dXJuIHplfXN0YXRpYyBnZXQgREFUQV9LRVkoKXtyZXR1cm4iYnMuc2Nyb2xsc3B5In1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLl9zY3JvbGxFbGVtZW50PT09dGhpcy5fc2Nyb2xsRWxlbWVudC53aW5kb3c/Im9mZnNldCI6InBvc2l0aW9uIixlPSJhdXRvIj09PXRoaXMuX2NvbmZpZy5tZXRob2Q/dDp0aGlzLl9jb25maWcubWV0aG9kLHM9InBvc2l0aW9uIj09PWU/dGhpcy5fZ2V0U2Nyb2xsVG9wKCk6MDt0aGlzLl9vZmZzZXRzPVtdLHRoaXMuX3RhcmdldHM9W10sdGhpcy5fc2Nyb2xsSGVpZ2h0PXRoaXMuX2dldFNjcm9sbEhlaWdodCgpLEguZmluZCh0aGlzLl9zZWxlY3RvcikubWFwKHQ9Pntjb25zdCBuPWkodCksbz1uP0guZmluZE9uZShuKTpudWxsO2lmKG8pe2NvbnN0IHQ9by5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZih0LndpZHRofHx0LmhlaWdodClyZXR1cm5bQltlXShvKS50b3ArcyxuXX1yZXR1cm4gbnVsbH0pLmZpbHRlcih0PT50KS5zb3J0KCh0LGUpPT50WzBdLWVbMF0pLmZvckVhY2godD0+e3RoaXMuX29mZnNldHMucHVzaCh0WzBdKSx0aGlzLl90YXJnZXRzLnB1c2godFsxXSl9KX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLE4ub2ZmKHRoaXMuX3Njcm9sbEVsZW1lbnQsIi5icy5zY3JvbGxzcHkiKSx0aGlzLl9zY3JvbGxFbGVtZW50PW51bGwsdGhpcy5fY29uZmlnPW51bGwsdGhpcy5fc2VsZWN0b3I9bnVsbCx0aGlzLl9vZmZzZXRzPW51bGwsdGhpcy5fdGFyZ2V0cz1udWxsLHRoaXMuX2FjdGl2ZVRhcmdldD1udWxsLHRoaXMuX3Njcm9sbEhlaWdodD1udWxsfV9nZXRDb25maWcoZSl7aWYoInN0cmluZyIhPXR5cGVvZihlPXsuLi56ZSwuLi4ib2JqZWN0Ij09dHlwZW9mIGUmJmU/ZTp7fX0pLnRhcmdldCYmcihlLnRhcmdldCkpe2xldHtpZDppfT1lLnRhcmdldDtpfHwoaT10KCJzY3JvbGxzcHkiKSxlLnRhcmdldC5pZD1pKSxlLnRhcmdldD0iIyIraX1yZXR1cm4gbCgic2Nyb2xsc3B5IixlLEtlKSxlfV9nZXRTY3JvbGxUb3AoKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudD09PXdpbmRvdz90aGlzLl9zY3JvbGxFbGVtZW50LnBhZ2VZT2Zmc2V0OnRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsVG9wfV9nZXRTY3JvbGxIZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudC5zY3JvbGxIZWlnaHR8fE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpfV9nZXRPZmZzZXRIZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudD09PXdpbmRvdz93aW5kb3cuaW5uZXJIZWlnaHQ6dGhpcy5fc2Nyb2xsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR9X3Byb2Nlc3MoKXtjb25zdCB0PXRoaXMuX2dldFNjcm9sbFRvcCgpK3RoaXMuX2NvbmZpZy5vZmZzZXQsZT10aGlzLl9nZXRTY3JvbGxIZWlnaHQoKSxpPXRoaXMuX2NvbmZpZy5vZmZzZXQrZS10aGlzLl9nZXRPZmZzZXRIZWlnaHQoKTtpZih0aGlzLl9zY3JvbGxIZWlnaHQhPT1lJiZ0aGlzLnJlZnJlc2goKSx0Pj1pKXtjb25zdCB0PXRoaXMuX3RhcmdldHNbdGhpcy5fdGFyZ2V0cy5sZW5ndGgtMV07dGhpcy5fYWN0aXZlVGFyZ2V0IT09dCYmdGhpcy5fYWN0aXZhdGUodCl9ZWxzZXtpZih0aGlzLl9hY3RpdmVUYXJnZXQmJnQ8dGhpcy5fb2Zmc2V0c1swXSYmdGhpcy5fb2Zmc2V0c1swXT4wKXJldHVybiB0aGlzLl9hY3RpdmVUYXJnZXQ9bnVsbCx2b2lkIHRoaXMuX2NsZWFyKCk7Zm9yKGxldCBlPXRoaXMuX29mZnNldHMubGVuZ3RoO2UtLTspdGhpcy5fYWN0aXZlVGFyZ2V0IT09dGhpcy5fdGFyZ2V0c1tlXSYmdD49dGhpcy5fb2Zmc2V0c1tlXSYmKHZvaWQgMD09PXRoaXMuX29mZnNldHNbZSsxXXx8dDx0aGlzLl9vZmZzZXRzW2UrMV0pJiZ0aGlzLl9hY3RpdmF0ZSh0aGlzLl90YXJnZXRzW2VdKX19X2FjdGl2YXRlKHQpe3RoaXMuX2FjdGl2ZVRhcmdldD10LHRoaXMuX2NsZWFyKCk7Y29uc3QgZT10aGlzLl9zZWxlY3Rvci5zcGxpdCgiLCIpLm1hcChlPT5gJHtlfVtkYXRhLWJzLXRhcmdldD0iJHt0fSJdLCR7ZX1baHJlZj0iJHt0fSJdYCksaT1ILmZpbmRPbmUoZS5qb2luKCIsIikpO2kuY2xhc3NMaXN0LmNvbnRhaW5zKCJkcm9wZG93bi1pdGVtIik/KEguZmluZE9uZSgiLmRyb3Bkb3duLXRvZ2dsZSIsaS5jbG9zZXN0KCIuZHJvcGRvd24iKSkuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIiksaS5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKSk6KGkuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIiksSC5wYXJlbnRzKGksIi5uYXYsIC5saXN0LWdyb3VwIikuZm9yRWFjaCh0PT57SC5wcmV2KHQsIi5uYXYtbGluaywgLmxpc3QtZ3JvdXAtaXRlbSIpLmZvckVhY2godD0+dC5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKSksSC5wcmV2KHQsIi5uYXYtaXRlbSIpLmZvckVhY2godD0+e0guY2hpbGRyZW4odCwiLm5hdi1saW5rIikuZm9yRWFjaCh0PT50LmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpKX0pfSkpLE4udHJpZ2dlcih0aGlzLl9zY3JvbGxFbGVtZW50LCJhY3RpdmF0ZS5icy5zY3JvbGxzcHkiLHtyZWxhdGVkVGFyZ2V0OnR9KX1fY2xlYXIoKXtILmZpbmQodGhpcy5fc2VsZWN0b3IpLmZpbHRlcih0PT50LmNsYXNzTGlzdC5jb250YWlucygiYWN0aXZlIikpLmZvckVhY2godD0+dC5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKSl9c3RhdGljIGpRdWVyeUludGVyZmFjZSh0KXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe2xldCBlPWIuZ2V0KHRoaXMsImJzLnNjcm9sbHNweSIpO2lmKGV8fChlPW5ldyBZZSh0aGlzLCJvYmplY3QiPT10eXBlb2YgdCYmdCkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYodm9pZCAwPT09ZVt0XSl0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgIiR7dH0iYCk7ZVt0XSgpfX0pKX19Ti5vbih3aW5kb3csImxvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpIiwoKT0+e0guZmluZCgnW2RhdGEtYnMtc3B5PSJzY3JvbGwiXScpLmZvckVhY2godD0+bmV3IFllKHQsQi5nZXREYXRhQXR0cmlidXRlcyh0KSkpfSksbSgic2Nyb2xsc3B5IixZZSk7Y2xhc3MgcWUgZXh0ZW5kcyBqe3N0YXRpYyBnZXQgREFUQV9LRVkoKXtyZXR1cm4iYnMudGFiIn1zaG93KCl7aWYodGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImFjdGl2ZSIpfHxkKHRoaXMuX2VsZW1lbnQpKXJldHVybjtsZXQgdDtjb25zdCBlPXModGhpcy5fZWxlbWVudCksaT10aGlzLl9lbGVtZW50LmNsb3Nlc3QoIi5uYXYsIC5saXN0LWdyb3VwIik7aWYoaSl7Y29uc3QgZT0iVUwiPT09aS5ub2RlTmFtZXx8Ik9MIj09PWkubm9kZU5hbWU/IjpzY29wZSA+IGxpID4gLmFjdGl2ZSI6Ii5hY3RpdmUiO3Q9SC5maW5kKGUsaSksdD10W3QubGVuZ3RoLTFdfWNvbnN0IG49dD9OLnRyaWdnZXIodCwiaGlkZS5icy50YWIiLHtyZWxhdGVkVGFyZ2V0OnRoaXMuX2VsZW1lbnR9KTpudWxsO2lmKE4udHJpZ2dlcih0aGlzLl9lbGVtZW50LCJzaG93LmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6dH0pLmRlZmF1bHRQcmV2ZW50ZWR8fG51bGwhPT1uJiZuLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO3RoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsaSk7Y29uc3Qgbz0oKT0+e04udHJpZ2dlcih0LCJoaWRkZW4uYnMudGFiIix7cmVsYXRlZFRhcmdldDp0aGlzLl9lbGVtZW50fSksTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsInNob3duLmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6dH0pfTtlP3RoaXMuX2FjdGl2YXRlKGUsZS5wYXJlbnROb2RlLG8pOm8oKX1fYWN0aXZhdGUodCxlLGkpe2NvbnN0IHM9KCFlfHwiVUwiIT09ZS5ub2RlTmFtZSYmIk9MIiE9PWUubm9kZU5hbWU/SC5jaGlsZHJlbihlLCIuYWN0aXZlIik6SC5maW5kKCI6c2NvcGUgPiBsaSA+IC5hY3RpdmUiLGUpKVswXSxvPWkmJnMmJnMuY2xhc3NMaXN0LmNvbnRhaW5zKCJmYWRlIikscj0oKT0+dGhpcy5fdHJhbnNpdGlvbkNvbXBsZXRlKHQscyxpKTtpZihzJiZvKXtjb25zdCB0PW4ocyk7cy5jbGFzc0xpc3QucmVtb3ZlKCJzaG93IiksTi5vbmUocywidHJhbnNpdGlvbmVuZCIsciksYShzLHQpfWVsc2UgcigpfV90cmFuc2l0aW9uQ29tcGxldGUodCxlLGkpe2lmKGUpe2UuY2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7Y29uc3QgdD1ILmZpbmRPbmUoIjpzY29wZSA+IC5kcm9wZG93bi1tZW51IC5hY3RpdmUiLGUucGFyZW50Tm9kZSk7dCYmdC5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKSwidGFiIj09PWUuZ2V0QXR0cmlidXRlKCJyb2xlIikmJmUuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMSl9dC5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKSwidGFiIj09PXQuZ2V0QXR0cmlidXRlKCJyb2xlIikmJnQuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMCksdSh0KSx0LmNsYXNzTGlzdC5jb250YWlucygiZmFkZSIpJiZ0LmNsYXNzTGlzdC5hZGQoInNob3ciKSx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoImRyb3Bkb3duLW1lbnUiKSYmKHQuY2xvc2VzdCgiLmRyb3Bkb3duIikmJkguZmluZCgiLmRyb3Bkb3duLXRvZ2dsZSIpLmZvckVhY2godD0+dC5jbGFzc0xpc3QuYWRkKCJhY3RpdmUiKSksdC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKSksaSYmaSgpfXN0YXRpYyBqUXVlcnlJbnRlcmZhY2UodCl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXtjb25zdCBlPWIuZ2V0KHRoaXMsImJzLnRhYiIpfHxuZXcgcWUodGhpcyk7aWYoInN0cmluZyI9PXR5cGVvZiB0KXtpZih2b2lkIDA9PT1lW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCAiJHt0fSJgKTtlW3RdKCl9fSkpfX1OLm9uKGRvY3VtZW50LCJjbGljay5icy50YWIuZGF0YS1hcGkiLCdbZGF0YS1icy10b2dnbGU9InRhYiJdLCBbZGF0YS1icy10b2dnbGU9InBpbGwiXSwgW2RhdGEtYnMtdG9nZ2xlPSJsaXN0Il0nLChmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksKGIuZ2V0KHRoaXMsImJzLnRhYiIpfHxuZXcgcWUodGhpcykpLnNob3coKX0pKSxtKCJ0YWIiLHFlKTtjb25zdCBWZT17YW5pbWF0aW9uOiJib29sZWFuIixhdXRvaGlkZToiYm9vbGVhbiIsZGVsYXk6Im51bWJlciJ9LFhlPXthbmltYXRpb246ITAsYXV0b2hpZGU6ITAsZGVsYXk6NWUzfTtjbGFzcyBRZSBleHRlbmRzIGp7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX3RpbWVvdXQ9bnVsbCx0aGlzLl9zZXRMaXN0ZW5lcnMoKX1zdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCl7cmV0dXJuIFZlfXN0YXRpYyBnZXQgRGVmYXVsdCgpe3JldHVybiBYZX1zdGF0aWMgZ2V0IERBVEFfS0VZKCl7cmV0dXJuImJzLnRvYXN0In1zaG93KCl7aWYoTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsInNob3cuYnMudG9hc3QiKS5kZWZhdWx0UHJldmVudGVkKXJldHVybjt0aGlzLl9jbGVhclRpbWVvdXQoKSx0aGlzLl9jb25maWcuYW5pbWF0aW9uJiZ0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoImZhZGUiKTtjb25zdCB0PSgpPT57dGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCJzaG93aW5nIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJzaG93IiksTi50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsInNob3duLmJzLnRvYXN0IiksdGhpcy5fY29uZmlnLmF1dG9oaWRlJiYodGhpcy5fdGltZW91dD1zZXRUaW1lb3V0KCgpPT57dGhpcy5oaWRlKCl9LHRoaXMuX2NvbmZpZy5kZWxheSkpfTtpZih0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImhpZGUiKSx1KHRoaXMuX2VsZW1lbnQpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgic2hvd2luZyIpLHRoaXMuX2NvbmZpZy5hbmltYXRpb24pe2NvbnN0IGU9bih0aGlzLl9lbGVtZW50KTtOLm9uZSh0aGlzLl9lbGVtZW50LCJ0cmFuc2l0aW9uZW5kIix0KSxhKHRoaXMuX2VsZW1lbnQsZSl9ZWxzZSB0KCl9aGlkZSgpe2lmKCF0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygic2hvdyIpKXJldHVybjtpZihOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZS5icy50b2FzdCIpLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuO2NvbnN0IHQ9KCk9Pnt0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoImhpZGUiKSxOLnRyaWdnZXIodGhpcy5fZWxlbWVudCwiaGlkZGVuLmJzLnRvYXN0Iil9O2lmKHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgic2hvdyIpLHRoaXMuX2NvbmZpZy5hbmltYXRpb24pe2NvbnN0IGU9bih0aGlzLl9lbGVtZW50KTtOLm9uZSh0aGlzLl9lbGVtZW50LCJ0cmFuc2l0aW9uZW5kIix0KSxhKHRoaXMuX2VsZW1lbnQsZSl9ZWxzZSB0KCl9ZGlzcG9zZSgpe3RoaXMuX2NsZWFyVGltZW91dCgpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJzaG93IikmJnRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgic2hvdyIpLE4ub2ZmKHRoaXMuX2VsZW1lbnQsImNsaWNrLmRpc21pc3MuYnMudG9hc3QiKSxzdXBlci5kaXNwb3NlKCksdGhpcy5fY29uZmlnPW51bGx9X2dldENvbmZpZyh0KXtyZXR1cm4gdD17Li4uWGUsLi4uQi5nZXREYXRhQXR0cmlidXRlcyh0aGlzLl9lbGVtZW50KSwuLi4ib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dDp7fX0sbCgidG9hc3QiLHQsdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSksdH1fc2V0TGlzdGVuZXJzKCl7Ti5vbih0aGlzLl9lbGVtZW50LCJjbGljay5kaXNtaXNzLmJzLnRvYXN0IiwnW2RhdGEtYnMtZGlzbWlzcz0idG9hc3QiXScsKCk9PnRoaXMuaGlkZSgpKX1fY2xlYXJUaW1lb3V0KCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbH1zdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKHQpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7bGV0IGU9Yi5nZXQodGhpcywiYnMudG9hc3QiKTtpZihlfHwoZT1uZXcgUWUodGhpcywib2JqZWN0Ij09dHlwZW9mIHQmJnQpKSwic3RyaW5nIj09dHlwZW9mIHQpe2lmKHZvaWQgMD09PWVbdF0pdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkICIke3R9ImApO2VbdF0odGhpcyl9fSkpfX1yZXR1cm4gbSgidG9hc3QiLFFlKSx7QWxlcnQ6UCxCdXR0b246SSxDYXJvdXNlbDpZLENvbGxhcHNlOlgsRHJvcGRvd246X2UsTW9kYWw6eWUsT2ZmY2FudmFzOk9lLFBvcG92ZXI6RmUsU2Nyb2xsU3B5OlllLFRhYjpxZSxUb2FzdDpRZSxUb29sdGlwOkJlfX0pKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vdHN0cmFwLmJ1bmRsZS5taW4uanMubWFw" defer="defer"></script><script defer="defer" src="main.js"></script><link href="main.css" rel="stylesheet"></head><body class="bg-dark"><nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top" id="app" style="display:none"><div class="container-fluid"><a class="navbar-brand" href="#">E.W.A</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Home</a></li></ul><form class="d-flex"><input class="form-control me-2" type="hidden" placeholder="Search" aria-label="Search"/> <button class="btn btn-outline-success" type="submit">Logout</button></form></div></div></nav><div class="container-fluid bg-dark text-light" style="margin-top:10em" id="login"><form id="loginForm"><div class="row justify-content-md-center"><div class="col col-sm-4"><h1 class="text-center"><strong>E.W.A</strong></h1><div><div class="mb-3"><input class="form-control" id="user" placeholder="Username" autofocus required/></div><div class="mb-3"><input class="form-control" type="password" id="pass" placeholder="Password" required/></div><div class="d-grid gap-2"><input class="btn btn-primary" type="submit" value="Login"></div></div><div class="row" style="margin-top:1em;display:none" id="error-div"><div class="alert alert-danger" role="alert"><strong id="status">401</strong> <span id="error">Invalid credentials</span></div></div></div></div></form></div></body></html>